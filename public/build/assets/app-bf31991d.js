var T=Object.defineProperty;var j=(e,t,n)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var c=(e,t,n)=>(j(e,typeof t!="symbol"?t+"":t,n),n);function y({component:e,el:t,name:n,method:r,value:i}){i&&(e.watch(i,()=>{t.innerHTML=e[i]}),t.innerHTML=e[i])}function P({component:e,el:t,name:n,method:r,value:i}){i&&(e.watch(i,()=>{t.value=e[i]}),t.value=e[i],t.addEventListener("input",s=>{e[i]=s.target.value}))}function F(e){const t=/\[([\w-:]+)((?:\s+\w+\s*=\s*"[^"]*")*)(\](.*?)\[\/\1\]|\s*\/\])/gs;return[...e.matchAll(t)].map(n=>{const[r,i,s,,o]=n;return{component:r,tag:i,attrs:s,content:o}})}const $="############$$$$$$$$############";function p(...e){console.log(...e)}function H(e){const t=(o,d)=>(Object.getOwnPropertyDescriptor(o,d)||{}).get,n=(o,d)=>typeof o[d]=="function",r=o=>o&&o!==Object.prototype&&Object.getOwnPropertyNames(o).filter(d=>t(o,d)||n(o,d)).concat(r(Object.getPrototypeOf(o))||[]),i=o=>Array.from(new Set(r(o)));return(o=>i(o).filter(d=>d!=="constructor"&&!~d.indexOf("__")))(e)}function M(e){let t={};return Reflect.ownKeys(e).forEach(n=>{Object.defineProperty(t,n,{get(){return e[n]},set(r){e[n]=r},enumerable:!0,configurable:!0})}),t}function I(e,t,n){return new Function("$event","$obj",`with($obj) {  ${e}}`).apply(n,[t,M(n)])}function S(e,t,n){if(!t||!e)return;let r=t.split(".");if(r.length===1)return e[t]=n,e[t];let i=r.shift(),s=r.join(".");i&&(e[i]===void 0&&(e[i]={}),this.dataSet(e[i],s,n))}function V(e,t){return t===""||!t?e:t.split(".").reduce((n,r)=>{if(n!==void 0)return n[r]},e)}function R(e){const t=document.createElement("template");return t.innerHTML=e,t.content.firstChild}const u={getComponentsFromText:F,LOG:p,tagSplit:$,runFunction:I,getMethods:H,dataSet:S,dataGet:V,convertHtmlToElement:R};function D({component:e,el:t,name:n,method:r,value:i}){i&&t.addEventListener(r,s=>{u.runFunction(i,s,e)})}function x({component:e,el:t,name:n,method:r,value:i}){i&&(e.watch(i,()=>{t.innerText=e[i]}),t.innerText=e[i])}const l={html:y,model:P,text:x,on:D},h="so-";function A(e){setTimeout(()=>{e.$el.querySelectorAll("*").forEach(t=>{[...t.attributes].forEach(n=>{if(n.name.startsWith(h)){let r=n.name.split(":"),i=r[0].replace(h,""),s=r[1],o="";s&&(s=s.split("."),s.length>1&&(o=s[1],s=s[0])),l[i]?l[i]({component:e,el:t,name:i,method:s,method2:o,value:n.value}):console.error("feature not found: "+i)}})})})}class _{constructor(t=void 0){c(this,"listeners",{});c(this,"removeListeners",[]);c(this,"data",{});this.data=t??{}}getValue(t){return this.data[t]}setValue(t,n){const r=this.data[t];setTimeout(()=>{this.changeProperty(t,n,r)},1),this.data[t]=n}watch(t,n){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(n)}changeProperty(t,n,r){this.listeners[t]&&this.listeners[t].forEach(i=>i(n,r))}cleanup(){this.removeListeners.forEach(t=>t()),this.removeListeners=[],this.listeners={}}check(t){return this.data[t]!==void 0}getKeys(){return Object.keys(this.data)}}let B=new Date().getTime(),f={},G=(e,t,n)=>!e.startsWith("_")&&n.indexOf(e)===t;function K(e,t){f[e]=t}function U(e,t,n=null){return!f[e]&&!(n!=null&&n.components[e])?(console.error("Component not found: "+e),null):n!=null&&n.components[e]?a(n==null?void 0:n.components[e],t,n):a(f[e],t,n)}function N(e){let t=e.$el.innerHTML,r=u.getComponentsFromText(t).map(i=>(t=t.split(i.component).join(u.tagSplit),U(i.tag,i.attrs,e)));if(r.length){let i="";t.split(u.tagSplit).forEach((s,o)=>{i+=s,r[o]&&(i+='<span id="sokeio-component-'+r[o].getId()+'">'+r[o].getId()+"</span>")}),t=i,e.$children=r}return e.$el.innerHTML=t,e}function g(e){let t=e.render?e.render():"<div></div>";t=t.trim(),e.$el=u.convertHtmlToElement(t),N(e),A(e),e.$children&&e.$children.forEach(n=>{g(n),n.boot&&n.boot()})}function w(e){e.$children&&e.$children.forEach(t=>{let n=e.$el.querySelector("#sokeio-component-"+t.getId());n.parentNode.insertBefore(t.$el,n),n.remove(),w(t)}),e.$el&&(e.$el.setAttribute("data-sokeio-id",e.getId()),e.$el._sokeio=e)}function v(e){e.$children&&e.$children.forEach(t=>{v(t),t.ready&&t.ready()})}function E(e){e.$children&&e.$children.forEach(t=>{E(t),t.destroy&&t.destroy()})}function a(e,t,n=null){let r={...e,$parent:n,$children:[],$id:0,$el:null},i=Object.keys(r).concat(Object.keys(e.state??{})).concat(Object.keys(t)).concat(u.getMethods(r)).filter(G).concat(["getId","watch","cleanup","__data__","__props__"]);return Object.defineProperty(r,"getId",{value:function(){return this.$id||(this.$id=++B),this.$id}}),Object.defineProperty(r,"__data__",{value:new _(e.state??{})}),Object.defineProperty(r,"__props__",{value:new _(t)}),Object.defineProperty(r,"watch",{value:function(s,o){this.__data__.check(s)&&this.__data__.watch(s,o),this.__props__.check(s)&&this.__props__.watch(s,o)}}),Object.defineProperty(r,"cleanup",{value:function(s,o){this.__data__.cleanup(s,o)}}),new Proxy(r,{ownKeys:()=>i,set:(s,o,d)=>s.__data__.check(o)?(s.__data__.setValue(o,d),!0):s.__props__.check(o)?(s.__props__.setValue(o,d),!0):s[o]!==void 0?(s[o]=d,!0):!1,get:(s,o)=>s.__data__.check(o)?s.__data__.getValue(o):s.__props__.check(o)?s.__props__.getValue(o):(s[o]!==void 0,s[o])})}let b=!1,m=!1;function W(e){document.addEventListener("sokeio::register",e)}function z(e){document.addEventListener("sokeio::boot",e)}function J(e){b?e():document.addEventListener("sokeio::ready",e)}function Q(e){document.addEventListener("sokeio::destroy",e)}function C(){document.dispatchEvent(new CustomEvent("sokeio::register",{detail:{registerComponent:K}}))}function k(e){g(e),document.dispatchEvent(new CustomEvent("sokeio::boot"))}function O(e){w(e),document.dispatchEvent(new CustomEvent("sokeio::render"))}function L(e){v(e),document.dispatchEvent(new CustomEvent("sokeio::ready")),b=!0}function X(e){E(e),document.dispatchEvent(new CustomEvent("sokeio::destroy"))}function Y(e={},t=null){m||(C(),m=!0),document.dispatchEvent(new CustomEvent("sokeio::run"));let n=new a(e,{});return k(n),O(n),L(n),t||(t=document.body),typeof t=="string"&&(t=document.querySelector(t)),t&&t.appendChild(n.$el),n}const Z=Object.freeze(Object.defineProperty({__proto__:null,boot:k,destroy:X,onBoot:z,onDestroy:Q,onReady:J,onRegister:W,ready:L,register:C,render:O,run:Y},Symbol.toStringTag,{value:"Module"}));window.sokeioUI=Z;const q={render(){return`
                <div class="so-file-manager__header">
                       demo
                </div>
        `}},ee={components:{"so-filemanager::header":q},render(){return`<div class="so-file-manager">
        [so-filemanager::header /]
    </div>`}};window.sokeioUI.run(ee);document.addEventListener("livewire:init",()=>{alert("Hello Livewire")});
