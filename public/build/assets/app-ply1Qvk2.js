var P=Object.defineProperty;var D=(e,t,i)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var f=(e,t,i)=>D(e,typeof t!="symbol"?t+"":t,i);function O(){var e,t,i;return document.querySelector('meta[name="csrf_token"]')?(e=document.querySelector('meta[name="csrf_token"]'))==null?void 0:e.getAttribute("value"):document.querySelector('meta[name="csrf-token"]')?(t=document.querySelector('meta[name="csrf-token"]'))==null?void 0:t.getAttribute("value"):document.querySelector('input[name="_token"]')?(i=document.querySelector('input[name="_token"]'))==null?void 0:i.getAttribute("value"):""}function p(...e){window.sokeioUI.debug===!0&&console.log(...e)}function L(e){const t=document.createElement("template");return t.innerHTML=e,t.content.firstChild}function B(e,t){return e&&t&&t(e),e}function U(e){const t=(l,r)=>(Object.getOwnPropertyDescriptor(l,r)||{}).get,i=(l,r)=>typeof l[r]=="function",s=l=>l&&l!==Object.prototype&&Object.getOwnPropertyNames(l).filter(r=>t(l,r)||i(l,r)).concat(s(Object.getPrototypeOf(l))||[]),o=l=>Array.from(new Set(s(l)));return(l=>o(l).filter(r=>r!=="constructor"&&!~r.indexOf("__")))(e)}function v(e,t){let i=t;return t.split(".").forEach(s=>{if(s.startsWith("$")){if(e[s]===void 0||e[s]===null)return;e=e[s]}else i=s}),[i,e]}function V(e){let t={};return Reflect.ownKeys(e).forEach(i=>{Object.defineProperty(t,i,{get(){return e[i]},set(s){e[i]=s},enumerable:!0,configurable:!0})}),t}function q(e,t,i){return new Function("$event","$obj",`with($obj) {  ${e}}`).apply(i,[t,V(i)])}function G(e){const t=/\[([\w-:]+)((?:\s+\w+\s*=\s*"[^"]*")*)(\](.*?)\[\/\1\]|\s*\/\])/gs;return[...e.matchAll(t)].map(i=>{const[s,o,n,,l]=i;return{component:s,tag:o,attrs:n,content:l}})}const C="############$$$$$$$$############";function W(){let e=L('<div class="so-modal-overlay"></div>'),t=document.body.querySelector(".so-modal-overlay");return t?t.parentNode&&t.parentNode.insertBefore(e,t):document.body.appendChild(e),e}function X(e){return e.getAttribute("wire:id")?e.getAttribute("wire:id"):e.closest("[wire\\:id]")?e.closest("[wire\\:id]").getAttribute("wire:id"):null}function z(e){var s;if(!e)return;Array.isArray(e)||(e=[e]);const t=(s=document.getElementsByTagName("script"))==null?void 0:s[0];let i=document.head;t&&t.parentNode&&t.parentNode!==i&&(i=t.parentNode),e.forEach(o=>{let n=document.createElement("script");n.src=o,i.insertBefore(n,t)})}function Y(e){if(!e)return;Array.isArray(e)||(e=[e]);const t=document.getElementsByTagName("link")[0];let i=document.head;t&&t.parentNode&&t.parentNode!==i&&(i=t.parentNode),e.forEach(s=>{let o=document.createElement("link");o.rel="stylesheet",o.href=s,i.insertBefore(o,t)})}const M={};function J(e,t){M[e]=t}function R(){return M}class T{constructor(t=void 0,i=null,s=!1){f(this,"listeners",{});f(this,"removeListeners",[]);f(this,"data",{});f(this,"component");f(this,"isProps",!1);this.component=i,this.isProps=s,this.data=t??{}}getValue(t){return this.data[t]}setValue(t,i){const s=this.data[t];setTimeout(()=>{this.changeProperty(t,i,s)},1),this.data[t]=i}watch(t,i){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(i)}changeProperty(t,i,s){this.listeners[t]&&this.listeners[t].forEach(o=>o(i,s))}cleanup(){this.removeListeners.forEach(t=>t()),this.removeListeners=[],this.listeners={}}check(t){return this.data[t]!==void 0}getKeys(){return Object.keys(this.data)}}class Q{constructor(t=void 0){f(this,"listeners",{});f(this,"component");this.component=t??{}}on(t,i){i&&(p("hook:on",t,i),this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(i))}fire(t,...i){p("hook:fire",t,i),this.listeners[t]&&this.listeners[t].forEach(s=>s.bind(this.component)(...i))}once(t,i){const s=(...o)=>{this.off(t,s),i(...o)};this.on(t,s)}off(t,i){this.listeners[t]&&delete this.listeners[t]}has(t){return!!this.listeners[t]}destroy(){this.listeners={}}}function Z(e,t=void 0,i={},s="GET"){let o=O();return p("fetch::content",o),fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":o??"","X-SOKEIO":"v1.0.0","x-powered-by":"Sokeio Framework","X-Requested-With":"XMLHttpRequest"},...i,method:s,body:JSON.stringify(t)})}const ee={convertJsonToFormData(e){let t=new FormData;for(let i in e)typeof e[i]=="object"?JSON.stringify(e[i])!=="{}"&&t.append(i,JSON.stringify(e[i])):t.append(i,e[i]);return t},fetch(e,t=void 0,i={},s="GET"){return Z(e,t,i,s)},get(e,t=void 0,i={}){return this.fetch(e,t,i,"GET")},post(e,t={},i={}){return this.fetch(e,t,i,"POST")},put(e,t={},i={}){return this.fetch(e,t,i,"PUT")},delete(e,t={},i={}){return this.fetch(e,t,i,"DELETE")},patch(e,t={},i={}){return this.fetch(e,t,i,"PATCH")},upload(e,t,i={}){let s=i.headers||{},o=i.progress||!1;return new Promise((n,l)=>{const r=new XMLHttpRequest;r.withCredentials=!0,r.open("POST",e),Object.entries(s).forEach(([a,d])=>{r.setRequestHeader(a,d)}),r.setRequestHeader("Accept","application/json"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.responseType="application/json",r.setRequestHeader("X-SOKEIO",""),r.setRequestHeader("X-CSRF-TOKEN",O()??""),r.upload.addEventListener("progress",a=>{o&&o({progress:Math.floor(a.loaded*100/a.total),loaded:a.loaded,total:a.total})}),r.onload=()=>{r.status===200?n(r.response):l(r.response)},r.onerror=()=>{l(r.response)},r.send(t)})}};let te=new Date().getTime();const ie={overlay:!1,focusInput:!1,state:{},register:()=>{},boot:()=>{},ready:()=>{},render:()=>{},destroy:()=>{}},se={$id:0,$el:null,$children:[],$request:ee,__data__:null,__props__:null,__hooks__:null,$overlayEl:null,getId(){return this.$id},onRegister:function(e){return this.__hooks__.on("register",e),this},onBoot:function(e){return this.__hooks__.on("boot",e),this},onRender:function(e){return this.__hooks__.on("render",e),this},onReady:function(e){return this.__hooks__.on("ready",e),this},onDestroy:function(e){return this.__hooks__.on("destroy",e),this},__tapChildren:function(e){return this.$children&&e&&this.$children.forEach(t=>{e.bind(this)(t)}),this},__lifecycle(e,t){p(`component:${e}:begin`,this,t),!(!e||!["register","boot","ready","render","destroy"].includes(e))&&(this.$app.$plugin.excute(this,e),this[e]&&this[e].bind(this)(),this.dispatch(e,t),p(`component:${e}:end`,this,t))},getComponent:function(e,t){var o,n,l,r,a,d,c,u,h,m;let i=R(),s;return this.components[e]&&(s=this.components[e]),!s&&((n=(o=this.$parent)==null?void 0:o.components)!=null&&n[e])&&(s=(r=(l=this.$parent)==null?void 0:l.components)==null?void 0:r[e]),!s&&((c=(d=(a=this.$parent)==null?void 0:a.$app)==null?void 0:d.components)!=null&&c[e])&&(s=(m=(h=(u=this.$parent)==null?void 0:u.$app)==null?void 0:h.components)==null?void 0:m[e]),!s&&i[e]&&(s=i[e]),s?N(s,t,this):(console.error("Component not found: "+e),null)},processChildren(){let e=this.$el.innerHTML,i=G(e).map(s=>(e=e.split(s.component).join(C),this.getComponent(s.tag,s.attrs)));if(i.length){let s="";e.split(C).forEach((o,n)=>{s+=o,i[n]&&(s+='<span id="sokeio-component-'+i[n].getId()+'">'+i[n].getId()+"</span>")}),e=s,this.$children=i}return this.$el.innerHTML=e,this},dispatch:function(e,t){this.__hooks__.fire(e,t,this),document.dispatchEvent(new CustomEvent(`sokeio::${e}`,{detail:{component:this,data:t}}))},watch:function(e,t){return this.__data__.check(e)&&this.__data__.watch(e,t.bind(this)),this.__props__.check(e)&&this.__props__.watch(e,t.bind(this)),this},doInit:function(){this.__data__=new T(this.$initState,this),this.__props__=new T(this.$initProps,this,!0),this.__hooks__=new Q(this),this.$id=(te++).toString()},doRegister:function(){this.__lifecycle("register")},doBoot:function(){this.__lifecycle("boot");let e=this.render?this.render():"<div></div>";e=e.trim(),this.$el?this.$el.innerHTML=e:this.$el=L(e),this.processChildren(),this.__tapChildren(t=>{t.doRegister(),t.doBoot()})},doReady:function(){this.__lifecycle("ready"),this.__tapChildren(e=>{e.doReady()})},doRender:function(){this.__lifecycle("render"),this.__tapChildren(e=>{e.doRender();let t=this.$el.querySelector("#sokeio-component-"+e.getId());t.parentNode.insertBefore(e.$el,t),t.remove()}),this.$el&&(this.$el.setAttribute("data-sokeio-id",this.getId()),this.$el.__sokeio=this)},doDestroy:function(){var e;this.__lifecycle("destroy"),this.__tapChildren(t=>{t.doDestroy()}),(e=this.$el)==null||e.remove(),this.__hooks__.destroy(),this.$children=[],this.$el=null,this.state={}},closeApp:function(){this.$app&&this.$app.doDestroy()},refresh:function(){let e=this.$el.parentNode,t=this.$el.nextSibling;this.$el.remove(),this.$el=null,this.doBoot(),this.doRender(),this.doReady(),t?e.insertBefore(this.$el,t):e.appendChild(this.$el)},show:function(){if(this.$el){if(!this.sokeAppSelector){this.$el.style.display="block";return}p("component:show",this),this.overlay&&(document.querySelector(".so-modal-overlay")||(document.body.classList.add("so-modal-open"),document.body.style.overflow="hidden"),this.$overlayEl=W(),this.onDestroy(function(){p("component:show:onDestroy"),document.body.removeChild(this.$overlayEl),document.querySelector(".so-modal-overlay")||(document.body.classList.remove("so-modal-open"),document.body.style.overflow="auto")})),this.sokeAppSelector.appendChild(this.$el),this.focusInput&&this.focusInputAction()}},hide:function(){this.$el.style.display="none",this.$overlayEl&&(this.$overlayEl.display="none"),this.__lifecycle("hide")},focusInputAction:function(){let e=0;const t=20;let i=this;const s=setInterval(function(){var o;(e>=t||i.$el.contains(document.activeElement))&&clearInterval(s),(o=i.$el.querySelector("input:not([disabled]):not([readonly]), select:not([disabled]), textarea:not([readonly]"))==null||o.focus(),e++},100)}};function N(e,t,i=null){e.state||(e.state={}),t=t??{};let s={...ie,...e,$initState:{...e.state},$initProps:{...t},$parent:i,$app:i&&i.$app,$wire:i?i.$wire:t==null?void 0:t.$wire,...se},o=Object.keys(s).concat(Object.keys(s.$initState)).concat(Object.keys(s.$initProps)).concat(U(s)).filter((n,l,r)=>(["__data__","__props__","__hooks__","__lifecycle","__tapChildren"].includes(n)||!n.startsWith("_"))&&r.indexOf(n)===l);return B(new Proxy(s,{ownKeys:()=>o,set:(n,l,r)=>{var a,d;return(a=n.__data__)!=null&&a.check(l)?(n.__data__.setValue(l,r),!0):(d=n.__props__)!=null&&d.check(l)?(n.__props__.setValue(l,r),!0):n[l]!==void 0?(n[l]=r,!0):!1},get:(n,l)=>{var r,a;return(r=n.__data__)!=null&&r.check(l)?n.__data__.getValue(l):(a=n.__props__)!=null&&a.check(l)?n.__props__.getValue(l):(n[l]!==void 0,n[l])}}),n=>{n.doInit()})}class oe{constructor(){f(this,"css",[]);f(this,"js",[])}check(){return!0}excute(t,i){console.log("excute",i,t,this.css,this.js)}}class ne{constructor(t=[]){f(this,"plugins",[]);let i=t;Array.isArray(i)||(i=[i]),i.forEach(s=>{this.register(s)})}register(t){let i=new oe;t.css&&(i.css=t.css),t.js&&(i.js=t.js),t.excute&&(i.excute=t.excute),t.check&&(i.check=t.check),this.plugins.push(i)}loadPlugin(t){t.check()||(z(t.js),Y(t.css))}load(){this.plugins.forEach(t=>{this.loadPlugin(t)})}excute(t,i){this.plugins.forEach(s=>{s.excute(t,i)})}}function re({component:e,el:t,name:i,method:s,value:o}){console.log("click-outsite",t),o&&(t.__SOKEIO_CLICK_OUTSITE&&t.removeEventListener(s,t.__SOKEIO_CLICK_OUTSITE),t.__SOKEIO_CLICK_OUTSITE=n=>{t.contains(n.target)||q(o,n,e)},window.addEventListener("click",t.__SOKEIO_CLICK_OUTSITE),e.onDestroy(()=>{window.removeEventListener("click",t.__SOKEIO_CLICK_OUTSITE)}))}const le={enter:13,esc:27,space:32,tab:9,up:38,down:40,left:37,right:39,a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90},ae=e=>{let t=e.toLowerCase().split("+"),i=t.includes("shift"),s=t.includes("ctrl"),o=t.includes("alt"),n=t.includes("meta")||t.includes("command")||t.includes("win"),l=t.filter(r=>!["shift","ctrl","alt","meta","command","win"].includes(r)).map(r=>le[r]).filter(r=>r);return{shift:i,ctrl:s,alt:o,meta:n,keyCodes:l}};function ce({component:e,el:t,name:i,method:s,value:o}){o&&(t.__SOKEIO_HOTKEY&&t.removeEventListener(s,t.__SOKEIO_HOTKEY),t.__SOKEIO_HOTKEY=n=>{if(t.contains(n.target))return;let{shift:l,ctrl:r,alt:a,meta:d,keyCodes:c}=ae(o);if(!(l&&!n.shiftKey||r&&!n.ctrlKey||a&&!n.altKey||d&&!n.metaKey||c.length>0&&!c.includes(n.keyCode))){if(["INPUT","SELECT","TEXTAREA"].includes(t.tagName)){t.focus(),t.dispatchEvent(new Event("focus")),console.log("hotkey:focus"),n.preventDefault(),n.stopPropagation&&n.stopPropagation();return}console.log("hotkey:click"),t.click(),t.dispatchEvent(new Event("click")),n.preventDefault(),n.stopPropagation&&n.stopPropagation()}},window.addEventListener("keydown",t.__SOKEIO_HOTKEY),e.onDestroy(()=>{window.removeEventListener("click",t.__SOKEIO_HOTKEY)}))}function de({component:e,el:t,name:i,method:s,value:o}){if(o){let[n,l]=v(e,o);l.watch(n,()=>{t.innerHTML=l[n]}),t.innerHTML=l[n]}}function ue({component:e,el:t,name:i,method:s,value:o}){if(o){let[n,l]=v(e,o);l.watch(n,()=>{t.value=l[n]}),t.value=l[n],t.addEventListener("input",r=>{l[n]=r.target.value})}}function he({component:e,el:t,name:i,method:s,value:o}){o&&(t["__SOKEIO_ON__"+s]&&t.removeEventListener(s,t["__SOKEIO_ON__"+s]),t["__SOKEIO_ON__"+s]=n=>{let l=t.getAttribute("so-on:ignore");l&&n.target.closest(l)||q(o,n,e)},t.addEventListener(s,t["__SOKEIO_ON__"+s]))}function fe({component:e,el:t,name:i,method:s,value:o}){if(o){let[n,l]=v(e,o);l[n]=t}}function me({component:e,el:t,name:i,method:s,value:o}){if(o){let[n,l]=v(e,o);l.watch(n,()=>{t.innerText=l[n]}),t.innerText=l[n]}}const F={html:de,model:ue,text:me,on:he,refs:fe,"click-outsite":re,hotkey:ce},I="so-",j=(e,t)=>{[...e.attributes].forEach(i=>{if(i.name.startsWith(I)){let s=i.name.split(":"),o=s[0].replace(I,""),n=s[1],l="";n&&(n=n.split("."),n.length>1&&(l=n[1],n=n[0])),F[o]?F[o]({component:t,el:e,name:o,method:n,method2:l,value:i.value}):console.error("feature not found: "+o)}})};let pe=function(e){setTimeout(()=>{e.$el&&(e.$el.querySelectorAll("*").forEach(t=>{t.closest("[data-sokeio-id]").getAttribute("data-sokeio-id")!=e.getId()||t.hasAttribute("data-sokeio-id")&&t.getAttribute("data-sokeio-id")!=e.getId()||j(t,e)}),j(e.$el,e))})};const we={js:[],css:[],check:function(){return!0},excute(e,t){t==="render"&&pe(e)}};function ge(e={},t={}){var r;let i=t.selector;i||(i=document.body),typeof i=="string"&&(i=document.querySelector(i));let s={...e,sokeAppSelector:i,state:JSON.parse(JSON.stringify(e.state??{}))};t.components&&(typeof t.components=="string"&&(t.components=JSON.parse(t.components)),s.components=s.components??{},s.components={...s.components,...t.components}),p("templateCopy",s),document.dispatchEvent(new CustomEvent("sokeio::run"));let o=X(i);(r=t==null?void 0:t.props)!=null&&r.wireId&&(o=t.props.wireId),o&&(t.props={...t.props,wireId:o,$wire:window.Livewire.find(o)}),t!=null&&t.plugins||(t.plugins=[]);let n=new ne([...t.plugins,we]);document.dispatchEvent(new CustomEvent("sokeio::plugin::load",{detail:n})),n.load(),t.props={...t.props,$plugin:n};let l=N(s,t.props??{},null);return l.$app=l,l.doRegister(),l.doBoot(),l.doRender(),l.doReady(),l.isHide||l.show(),l}const k={version:"1.0.0",debug:!1,skipRun:!1,run:ge,regisger:J,getComponents:R,get(e){if(!e)return null;let t=document.querySelector(`[data-sokeio-id="${e}"]`);return t?t.__sokeio:null},runApplication(){k.skipRun||document.querySelectorAll("[sokeio-application-template]").forEach(e=>{if(e.$sokeio_template||e.getAttribute("data-sokeio-template-id"))return;let t=e.innerHTML;t=t.replace("export default"," return");let i=document.createElement("div");i.setAttribute("data-sokeio-template",`${new Date().getTime()}`),e.parentNode.insertBefore(i,e);let o=new Function(t)();e.$sokeio_template=k.run(o,{selector:i}),i.parentNode&&i.parentNode.insertBefore(e.$sokeio_template.$el,i),i.remove(),e.setAttribute("data-sokeio-template-id",e.$sokeio_template.getId()),e.style.display="none"})}};(function(){window.sokeioUI=k})();document.addEventListener("DOMContentLoaded",function(){window.sokeioUI.runApplication()});const ke={state:{html:"",loading:!0},ready(){this.timeout>2e4&&(this.timeout=7e3),setTimeout(()=>{this.closeApp()},this.timeout??5e3)},render(){let e="";return this.messageType,`
      <div class="alert ${e} so-alert" role="alert">
          <div>
            <h4 class="alert-title" so-text="title"></h4>
            <div class="alert-message"  so-text="message"></div>
          </div>
        </div>
      </div
      `}},ve=e=>{document.querySelector(".so-position-manager")||$e(),setTimeout(()=>{var s,o;let t=e.position??"top-right",i=document.querySelector(`.so-position-manager .so-position-${t}`);i||(i=document.querySelector(".so-position-manager .so-position-bottom-right")),i.children.length>9&&((o=(s=i.children[0].__sokeio)==null?void 0:s.delete)==null||o.call(s)),window.sokeioUI.run(ke,{props:{...e},selector:i})})};window.sokeioMessage=ve;let $e=()=>{document.body.insertAdjacentHTML("beforeend",`
    <div class="so-position-manager">
        <div class="so-position so-position-top-left"></div>
        <div class="so-position so-position-top-center"></div>
        <div class="so-position so-position-top-right"></div>
        <div class="so-position so-position-middle-left"></div>
        <div class="so-position so-position-center-center"></div>
        <div class="so-position so-position-middle-right"></div>
        <div class="so-position so-position-bottom-left"></div>
        <div class="so-position so-position-bottom-center"></div>
        <div class="so-position so-position-bottom-right"></div>
    </div>
    `)};const ye={register(){this.$parent.$folderBox=this},diskRender(){let e=' <select so-model="$parent.disk" class="form-select mt-1 p-2">';return Object.keys(this.$parent.disks).forEach(t=>{e+=`<option value="${t}" ${this.$parent.disk==t?"selected":""}>${t}</option>`}),e+="</select>",`<div class="row justify-content-center align-items-center"><div class="col-auto ps-4 fw-bold">Disk:</div><div class="col">${e}</div></div>`},checkItemActive(e){return e.path==this.$parent.path},ready(){setTimeout(()=>{this.$el.querySelector(".so-fm-folder-wrapper").scrollTop=this.$parent.boxFolderScrollTop})},openFolder(e){this.$parent.boxFolderScrollTop=this.$el.querySelector(".so-fm-folder-wrapper").scrollTop,this.$parent.openFolder(e),this.refresh()},showContextMenu(e,t){this.openFolder(t),this.$parent.$contextMenu.open(e,this,"folder"),e.preventDefault()},itemRender(e){var i;let t=`<li > <div so-on:click="openFolder('${e.path}')" class="so-fm-folder-item ${this.checkItemActive(e)?"active":""}" style="padding-left:${e.level*7+5}px" so-on:contextmenu='showContextMenu($event,"${e.path}")'>${e.name}</div>`;return e!=null&&e.children&&((i=e==null?void 0:e.children)==null?void 0:i.length)>0&&(t+=this.treeRender(e.children)),`${t}</li>`},treeRender(e){let t="";return Array.isArray(e)?e.forEach(i=>{t+=this.itemRender(i)}):t+=this.itemRender(e),`<ul class="so-fm-folder-list">${t}</ul>`},render(){return`<div class="so-fm-folder-box-wrapper">${this.diskRender()} <div class="so-fm-folder-wrapper"> ${this.treeRender(this.$parent.folders)}
    </div></div>`}},_e={itemClick(e){this.$parent.toolbars[e].action.bind(this.$parent)()},itemRender(){let e="";return this.$parent.toolbars.forEach((t,i)=>{e+=`
            <div class="so-fm-header-control-item" so-on:click="itemClick(${i})">
                    <div class="so-fm-header-control-item-icon">
                        <i class="${t.icon}"></i>
                    </div>
                    <div class="so-fm-header-control-item-text">${t.title}</div>
                </div>
            
            `}),e},render(){return`
        <div class="so-fm-header">
            <div class="so-fm-header-title">
                <a href="https://sokeio.com" class="logo-large" target="_blank">
                    Sokeio FM V1.0
                </a>
                <a href="https://sokeio.com" class="logo-small" target="_blank">
                    SFM1.0
                </a>
            </div>
            <div class="so-fm-header-control">
  ${this.itemRender()}
            </div>
        </div>
        `}},be={render(){return`
                <div class="so-fm-footer">
                        <div>Path:<span so-text="$parent.path" class="ps-1 fw-bold"></span></div>
                        <div class="flex-0">Selected File:<span so-text="$parent.selectedCount" class="ps-1 fw-bold"></span></div>
                        <div class="">File:<span so-text="$parent.fileCount" class="ps-1 fw-bold"></span></div>
                </div>
        `}},Ae={state:{title:"abc",name:"abc",current:"",path:"",isHide:!0},register(){this.$parent.$modalNewFolder=this},cancel(){this.isHide=!0,this.refresh()},open(e,t,i){this.name=e,this.title=t,this.current=i,this.isHide=!1,this.refresh()},ok(){if(!this.name){this.cancel();return}this.isHide=!0,this.refresh(),this.$parent.fmAction("create-folder",{name:this.name,current:this.current})},render(){return this.isHide?"<div style='display:none'></div>":`
                  <div class="so-fm-modal">
                      <div class="so-fm-modal-dialog">
                          <div class="so-fm-modal-content">
                              <div class="so-fm-modal-header">
                                  <h3 ><i class="ti ti-folder-plus fs-2"></i> <span class="fw-bold" so-text="title"></span></h3>
                              </div>
                              <div class="so-fm-modal-body px-2">
                                  <input type="text" so-model="name" placeholder="Enter folder name"  class="form-control">
                              </div>
                              <div class="so-fm-modal-footer pt-2">
                                  <button class="btn btn-danger" so-on:click="cancel()">Cancel</button>
                                  <button class="btn btn-primary" so-on:click="ok()">OK</button>
                              </div>
                          </div>
                      </div>
                  </div>
          `}},Se={state:{title:"abc",name:"abc",current:"",isHide:!0,files:[]},register(){this.$parent.$modalUpload=this},cancel(){this.isHide=!0,this.files=[],this.refresh()},ok(){if(this.files.length===0){this.cancel();return}this.$parent.fmAction("upload",{},this.files,(function(e){e.progress==100&&this.cancel()}).bind(this))},ready(){setTimeout(()=>{var e;(e=this.$el.querySelector('input[type="file"]'))==null||e.addEventListener("change",t=>{for(const i of t.target.files)this.files.push(i);this.refresh()})})},open(e,t,i){this.name=e,this.title=t,this.current=i,this.files=[],this.isHide=!1,this.refresh()},chooseFile(){this.$el.querySelector('input[type="file"]').click()},fileSize(e){return e<1024?e+"B":e<1024*1024?(e/1024).toFixed(2)+"KB":e<1024*1024*1024?(e/1024/1024).toFixed(2)+"MB":(e/1024/1024/1024).toFixed(2)+"GB"},removeFile(e){this.files.splice(e,1),this.refresh()},removeAll(){this.files=[],this.refresh()},fileListRender(){if(!this.files||this.files.length==0)return"";let e=`<div class="so-fm-modal-file-list-title">Files (${this.files.length}) <span so-on:click="removeAll()">Remove all</span></div>`;e+='<div class="so-fm-modal-file-list">',console.log(this.files);for(let t=0;t<this.files.length;t++){const i=this.files[t];e+=`<div class="so-fm-modal-upload-file-item" style="text-align:left">
                  <span class="so-fm-modal-file-name">${i.name}</span>
                  <span class="so-fm-modal-file-size">${this.fileSize(i.size)}</span> 
                  <span class="so-fm-modal-file-remove" so-on:click="removeFile(${t})">x</span>
              </div>`}return e+="</div>",e},render(){return this.isHide?"<div style='display:none'></div>":`
                  <div class="so-fm-modal">
                      <div class="so-fm-modal-dialog">
                          <div class="so-fm-modal-content">
                              <div class="so-fm-modal-header">
                                  <h3 so-text="title">Upload</h3>
                              </div>
                              <div class="so-fm-modal-body px-4">
                                <input type="file" style="display:none" multiple/>
                                <div class="so-dropzone" so-on:click="chooseFile()">
                                  <span>Upload file</span>
                                </div>
                                
                                  ${this.fileListRender()}
                                
                              </div>
                              <div class="so-fm-modal-footer pt-1">
                                  <button class="btn btn-danger" so-on:click="cancel()">Cancel</button>
                                  <button class="btn btn-primary" so-on:click="ok()">OK</button>
                              </div>
                          </div>
                      </div>
                  </div>
          `}},Ee={register(){this.$parent.$grid=this},showContextMenu(e,t){this.chooseFile(t),this.$parent.$contextMenu.open(e,this,"file"),e.preventDefault()},itemRender(e){return`
           <div class="so-fm-item-box ${this.$parent.checkItemActive(e.path)?"active":""}" 
           so-on:click='chooseFile("${e.path}")' 
           so-on:contextmenu='showContextMenu($event,"${e.path}")' title="${e.name}">
            <div class="so-fm-item-box-preview">
                  <img src="${e.preview_url}" alt="${e.name}"/>
              </div>
              <div class="so-fm-item-box-name">
                  ${e.name_without_extension}
              </div>
           </div>
          `},bodyGridRender(){let e="";return this.$parent.files.forEach(t=>{e+=this.itemRender(t)}),e},chooseFile(e,t=!1){this.$parent.chooseFile(e,t),this.refresh()},render(){return`
            <div class="so-fm-body-grid">
                ${this.bodyGridRender()}
            </div>
          `}},xe={state:{isShow:!1},boot(){this.$parent.$loading=this},showLoading(){this.isShow=!0},hideLoading(){this.isShow=!1},render(){return this.isShow?`
                  <div class="so-fm-loading">
                         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><circle fill="#253447" stroke="#253447" stroke-width="15" r="15" cx="40" cy="65"><animate attributeName="cy" calcMode="spline" dur="2" values="65;135;65;" keySplines=".5 0 .5 1;.5 0 .5 1" repeatCount="indefinite" begin="-.4"></animate></circle><circle fill="#253447" stroke="#253447" stroke-width="15" r="15" cx="100" cy="65"><animate attributeName="cy" calcMode="spline" dur="2" values="65;135;65;" keySplines=".5 0 .5 1;.5 0 .5 1" repeatCount="indefinite" begin="-.2"></animate></circle><circle fill="#253447" stroke="#253447" stroke-width="15" r="15" cx="160" cy="65"><animate attributeName="cy" calcMode="spline" dur="2" values="65;135;65;" keySplines=".5 0 .5 1;.5 0 .5 1" repeatCount="indefinite" begin="0"></animate></circle></svg>
                  </div>
          `:"<div style='display:none'></div>"}};function Ce(e,t){return e.pageX?document.body.classList.contains("so-modal-open")?e.pageX-document.documentElement.scrollLeft:e.pageX:e.clientX?e.clientX+(document.documentElement.scrollLeft?document.documentElement.scrollLeft:document.body.scrollLeft):null}function Te(e,t){return e.pageY?document.body.classList.contains("so-modal-open")?e.pageY-document.documentElement.scrollTop:e.pageY:e.clientY?e.clientY+(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop):null}const Fe={state:{path:"",type:""},register(){this.$parent.$contextMenu=this},itemClick(e){this.$parent.contextMenus[e].action.bind(this.$parent)(),this.hide()},itemRender(){let e="";return this.$parent.contextMenus.filter(t=>t.type.includes(this.type)).forEach((t,i)=>{e+=`
            <div class="so-fm-context-menu-item" so-on:click="itemClick(${i})">
                    <div class="so-fm-context-menu-item-icon">
                        <i class="${t.icon}"></i>
                    </div>
                    <div class="so-fm-context-menu-item-text">${t.title}</div>
                </div>
            
            `}),e},open(e,t,i){this.path=t,this.type=i,console.log({event:e,path:t,type:i}),window.event.returnValue=!1,this.refresh();let s=0,o=0;if(this.$el.closest(".so-modal")){let n=this.$parent.$el.getBoundingClientRect();s=n.top,o=n.left-document.body.scrollLeft}this.$el.style.display="block",this.$el.style.top=Te(e,this.$app.$el)-s+"px",this.$el.style.left=Ce(e,this.$app.$el)-o+"px"},hide(){this.$el.style.display="none"},render(){return`
        <div class="so-fm-context-menu" so-click-outsite="hide()" style="display:none">
            <div class="so-fm-context-menu-header">
                <a href="https://sokeio.com" class="logo-large" target="_blank">  
                    Sokeio FM V1.0
                </a>
                <a href="https://sokeio.com" class="logo-small" target="_blank">
                    SFM1.0
                </a>
            </div>
                ${this.itemRender()}
        </div>
          `}},K={components:{"so-fm::header":_e,"so-fm::folder-box":ye,"so-fm::grid-file":Ee,"so-fm::footer":be,"so-fm::new-folder":Ae,"so-fm::upload":Se,"so-fm::loading":xe,"so-fm::context-menu":Fe},$modalNewFolder:null,$modalUpload:null,$grid:null,$folderBox:null,$loading:null,$contextMenu:null,btnChooseFileAction:null,state:{path:"/",selected:[],selectedCount:0,files:[],folders:[],fileCount:0,disks:[],disk:"public",boxFolderScrollTop:0},toolbars:[{title:"New Folder",icon:"ti ti-folder-plus",action:function(){this.createFolder()}},{title:"Upload File",icon:"ti ti-upload",action:function(){this.uploadFile()}},{title:"Refresh",icon:"ti ti-refresh",action:function(){this.refreshSelected()}}],contextMenus:[{title:"Refresh",icon:"ti ti-refresh",type:["folder","file"],action:function(){this.refreshSelected()}},{title:"Rename",icon:"ti ti-edit",type:["folder","file"],action:function(){this.createFolder()}},{title:"Remove",icon:"ti ti-trash",type:["folder","file"],action:function(){this.uploadFile()}},{title:"Download",icon:"ti ti-download",type:["file"],action:function(){this.refreshSelected()}},{title:"Share",icon:"ti ti-share",type:["file"],action:function(){alert("share")}}],showMenuContext(e,t,i){var s;this.selected=[],(s=this.$contextMenu)==null||s.open(e,t,i)},register(){this.path="/",this.disk="public",this.selected=[],this.refreshSelected(),this.watch("disk",function(e,t){e!=t&&(this.path="/",this.refreshSelected())})},boot(){this.onDestroy(function(){}),this.watch("selected",function(e,t){e!=t&&(this.selectedCount=this.selected.length)}),this.watch("selectedCount",function(e,t){e!=t&&(this.btnChooseFileAction.disabled=e==0)})},chooseFile(e){this.$app.multiple||(this.selected=[]);let t=this.selected;t.includes(e)?t=t.filter(i=>i!=e):t.push(e),this.selected=t},checkItemActive(e){return this.selected.includes(e)},fmAction(e,t={},i=[],s=null){var n;(n=this.$loading)==null||n.showLoading();let o=null;if(i.length>0){let l=this.$request.convertJsonToFormData({action:e,disk:this.disk,path:this.path});for(let r in i)l.append("files[]",i[r]);o=this.$request.upload("/platform/file-manager",l,{progress:s}).then(r=>JSON.parse(r))}else o=this.$request.post("/platform/file-manager",{action:e,payload:t,disk:this.disk,path:this.path}).then(l=>l.json());o.then(l=>{var r,a,d,c;this.files=l.files??this.files,this.folders=l.folders??this.folders,this.disks=l.disks??this.disks,this.disk=l.disk??this.disk,this.path=l.path??this.path,this.fileCount=((r=this.files)==null?void 0:r.length)??0,this.path==""&&(this.path="/"),(a=this.$loading)==null||a.hideLoading(),(d=this.$grid)==null||d.refresh(),(c=this.$folderBox)==null||c.refresh()})},createFolder(){this.$modalNewFolder.open("","New Folder","")},uploadFile(){this.$modalUpload.open("Upload","Upload",this.path)},deleteSelected(){alert("delete selected")},renameSelected(){this.$modalNewFolder.open("New Folder","New Folder",this.path)},refreshSelected(){this.fmAction("list")},openFolder(e){var t;this.path=e,this.selected=[],(t=this.$grid)==null||t.refresh(),this.fmAction("list")},footerRender(){var t;if(!((t=this.$app)!=null&&t.fnCallback))return"";let e='<div class="so-fm-footer-action">';return e+=`<button so-refs="btnChooseFileAction" so-on:click="chooseFileAction()" ${this.selected.length==0?"disabled":""} class="btn btn-primary"><svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-file-check"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M9 15l2 2l4 -4" /></svg> Choose File</button>`,e+="</div>",e},chooseFileAction(){if(this.selected.length==0)return;let e=[];this.selected.forEach(t=>{this.files.filter(i=>i.path==t).forEach(i=>e.push(i))}),this.$app.fnCallback(this.$app.multiple?e:e[0],this.path),this.closeApp()},render(){return` <div class="so-fm-wrapper">
          [so-fm::header /]
          <div class="so-fm-body">
              <div class="so-fm-folder-box">
              [so-fm::folder-box /]
              </div>
              <div class="so-fm-body-list">
                  [so-fm::loading /]
                  [so-fm::grid-file /]
              </div>
          </div>
          [so-fm::footer /]
          ${this.footerRender()}
          [so-fm::new-folder /]
          [so-fm::upload /]
          [so-fm::context-menu/]
        </div>`}};window.showFileManager=function(e,t="file",i=!1){window.showModal("File Manager",{type:t,fnCallback:e,template:K,modalSize:"xxl",skipOverlayClose:!0,multiple:i})};function g(...e){window.sokeioUI.debug===!0&&console.log(...e)}function w(e,t,i){if(!t||!e)return;let s=t.split(".");if(s.length===1)return e[t]=i,e[t];let o=s.shift(),n=s.join(".");o&&(e[o]===void 0&&(e[o]={}),w(e[o],n,i))}function $(e,t){return t===""||!t?e:t.split(".").reduce((i,s)=>{if(i!==void 0)return i[s]},e)}function Ie(e){const t=document.createElement("template");return t.innerHTML=e,t.content.firstChild}function y(e){if(!e)return;Array.isArray(e)||(e=[e]);const t=document.getElementsByTagName("script")[0];e.forEach(i=>{let s=document.createElement("script");s.src=i,t.parentNode.insertBefore(s,t)})}function _(e){if(!e)return;Array.isArray(e)||(e=[e]);const t=document.getElementsByTagName("link")[0];e.forEach(i=>{let s=document.createElement("link");s.rel="stylesheet",s.href=i,t.parentNode.insertBefore(s,t)})}function je(e="",t="",i="",s="",o=""){var c,u,h;s.indexOf("<")===-1&&(s=`<i class="${s}"></i>`),s=s.replace('class="','class="so-modal-icon '),i===void 0&&(i=` <div class="so-modal-header">${s}
                            <h3 class="so-modal-title" so-text="title"></h3>
                        </div>`),$content=i,!t&&!$content?$content=e:$content=`${$conten}<div class="so-modal-body">${e}</div> ${t?`<div class="so-modal-footer">${t}</div>`:""}`;let n='<a class="so-modal-close" so-hotkey="esc" so-on:click="this.closeApp()"></a>',l='so-on:click="this.closeApp()" so-on:ignore=".so-modal-dialog"',r=Ie(e),a=(o==null?void 0:o.skipOverlayClose)??!1,d=(o==null?void 0:o.modalSize)??"lg";return r&&r.getAttribute&&r.querySelector&&(((c=r.querySelector)!=null&&c.call(r,".hide-show-button-close")||r.getAttribute("data-hide-button-close"))&&(n=""),d=r.getAttribute("data-modal-size"),!d&&((u=r.querySelector)!=null&&u.call(r,"[data-modal-size]"))&&(d=r.querySelector("[data-modal-size]").getAttribute("data-modal-size")),a=r.getAttribute("data-skip-overlay-close"),!a&&((h=r.querySelector)!=null&&h.call(r,"[data-skip-overlay-close]"))&&(a=r.querySelector("[data-skip-overlay-close]").getAttribute("data-skip-overlay-close"))),a&&(l=""),d||(d="lg"),`<div class="so-modal so-modal-size-${d}" tabindex="-1" aria-modal="true" ${l} >
                <div class="so-modal-dialog">
                    <div class="so-modal-content card">
                        ${$content}
                    </div>
                    ${n}
                </div>
            </div>`}const Oe={state:{html:"",loading:!0},boot(){var t;if(g("modal.components",this.components),this.htmlComponent&&(g("modal.htmlComponent",this.htmlComponent),this.loading=!1,this.html=this.htmlComponent),this.html)return;let e="";this.elTarget&&(this.elTarget.hasAttribute("wire:id")?e=this.elTarget.getAttribute("wire:id"):e=(t=this.elTarget.closest("[wire\\:id]"))==null?void 0:t.getAttribute("wire:id")),this.url&&(this.url.includes("?")?this.url=this.url+"&refId="+e+"&_time="+new Date().getTime():this.url=this.url+"?refId="+e+"&_time="+new Date().getTime(),g("modal.url",this.url),this.$request.get(this.url).then(async i=>{i.ok?this.html=await i.text():this.html=`<div class="so-modal-content-error"><h3>${i.statusText}</h3><button class="btn btn-primary" so-hotkey="esc" so-on:click="this.closeApp()">Close</button></div>`,this.loading=!1,this.refresh()}))},ready(){},render(){return g("modal.render",this.html),this.skipLoading&&this.loading?"<template></template>":je(this.html||'<div class="so-modal-loader" data-hide-close="true"><span class="loader"></span></div>',"","",this.icon,this)}};window.showModal=function(e="",t={url:void 0,template:void 0,templateId:void 0,elTarget:void 0,data:{},callback:()=>{},isHide:!1,overlay:!0}){if(t.templateId&&(t.template=document.getElementById(t.templateId).innerHTML.replace("export default","return "),delete t.templateId),t.template){let i=t.template;typeof i=="string"&&(i=new Function(i)()),t={...t,components:{"sokeio::modal::template":i},htmlComponent:"[sokeio::modal::template][/sokeio::modal::template]"},delete t.template}return window.sokeioUI.run({...Oe,overlay:!0,focusInput:!0},{props:{title:e,...t}})};const Le={checkFirst:()=>window.ApexCharts!==void 0,local:{js:["/platform/module/sokeio/apexcharts/dist/apexcharts.min.js"],css:["/platform/module/sokeio/apexcharts/dist/apexcharts.css"]},cdn:{js:["https://cdn.jsdelivr.net/npm/apexcharts@latest/dist/apexcharts.min.js"],css:["https://cdn.jsdelivr.net/npm/apexcharts@latest/dist/apexcharts.css"]},init:({el:e,directive:t,component:i,cleanup:s})=>{}},qe={checkFirst:()=>window.bootstrap.Carousel!==void 0,local:{js:[],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s,options:o})=>{e.$sokeio_carousel=window.bootstrap.Carousel.getOrCreateInstance(e,o)}},Me={checkFirst:()=>window.Clipboard!==void 0,local:{js:["/platform/module/sokeio/clipboard/dist/clipboard.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s,options:o})=>{e.$sokeio_clipboard=new window.Clipboard(e,o)}},Re={checkFirst:()=>window.CountUp!==void 0,local:{js:["/platform/module/sokeio/count-up/dist/count-up.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s,options:o})=>{let n=e.getAttribute("wire:countup");(!n||n=="")&&(n=$(i.$wire,e.getAttribute("wire:countup.model"))),e.$sokeio_countup=new window.CountUp(e,n,o),e.$sokeio_countup.error?console.error(e.$sokeio_countup.error):e.$sokeio_countup.start()}};window.shortcodePattern=/\[([\w-:]+)((?:\s+\w+\s*=\s*"[^"]*")*)(\](.*?)\[\/\1\]|\s*\/\])/s;function Ne(e){let t=e.toLowerCase();return t=t.replace("dd","99"),t=t.replace("d","99"),t=t.replace("mm","99"),t=t.replace("m","99"),t=t.replace("yyyy","9999"),t=t.replace("yy","9999"),t=t.replace("y","9999"),t}function Ke(e){let t=e.toLowerCase();return t=t.replace("hh","99"),t=t.replace("h","99"),t=t.replace("ii","99"),t=t.replace("i","99"),t=t.replace("ss","99"),t=t.replace("s","99"),t}function He(e){return Ke(Ne(e))}function Pe(e){return e.getAttribute("wire:id")?e.getAttribute("wire:id"):e.closest("[wire\\:id]")?e.closest("[wire\\:id]").getAttribute("wire:id"):null}const De={checkFirst:()=>window.flatpickr!==void 0,local:{js:["/platform/module/sokeio/flatpickr/dist/flatpickr.min.js"],css:["/platform/module/sokeio/flatpickr/dist/flatpickr.min.css"]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s,options:o})=>{let n=e.getAttribute("wire:model"),l=(o==null?void 0:o.dateFormat)??(o!=null&&o.enableTime?"Y/m/d H:i:S":"Y/m/d"),r=He(l);e.$sokeio_flatpickr=new window.flatpickr(e,{allowInput:!0,allowInvalidPreload:!0,dateFormat:l,...o,onChange:(a,d,c)=>{w(i.$wire,n,a)}}),setTimeout(async()=>{Alpine.$data(e).maskFormat=r},10)}},Be={checkFirst:()=>!0,init:({el:e,directive:t,component:i,cleanup:s})=>{var d,c;let o=e.getAttribute("wire:model")||e.getAttribute("wire:get-value.model"),n=e.getAttribute("wire:get-value"),l=e.getAttribute("wire:get-value.parent")||((c=(d=i.$wire)==null?void 0:d.soData)==null?void 0:c.refId);if(console.log({modelKey:o,varKey:n,parentId:l}),!l||!n)return;let r=window.Livewire.find(l);if(!r)return;let a=$(r,n);w(i.$wire,o,a)}},Ue={checkFirst:()=>window.Masonry!==void 0,local:{js:["/platform/module/sokeio/masonry/dist/masonry.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s,options:o})=>{e.$sokeio_masonry=new Masonry(e,o);let n=()=>{e.$sokeio_masonry_timer&&(e.$sokeio_masonry.layout(),clearTimeout(e.$sokeio_masonry_timer),e.$sokeio_masonry_timer=null),e.$sokeio_masonry_timer=setTimeout(()=>{e.$sokeio_masonry.layout(),e.$sokeio_masonry_timer=null},100)};window.addEventListener("resize",n),s(()=>{window.removeEventListener("resize",n)})}},Ve={checkFirst:()=>!0,local:{js:[],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s})=>{let o={icon:'<i class="ti ti-alarm"></i>',templateId:"",template:"",url:"",elTarget:e,isHide:!0},n=e.getAttribute("wire:modal.title");e.hasAttribute("wire:modal.url")&&(o.url=e.getAttribute("wire:modal.url")),e.hasAttribute("wire:modal.size")&&(o.size=e.getAttribute("wire:modal.size")),e.hasAttribute("wire:modal.icon")&&(o.icon=e.getAttribute("wire:modal.icon")),e.hasAttribute("wire:modal.template-id")&&(o.templateId=e.getAttribute("wire:modal.template-id")),e.hasAttribute("wire:modal.template")&&(o.template=e.getAttribute("wire:modal.template"));let l=!1,r=!1,a=function(){return window.showModal(n,o).onDestroy(()=>{c=void 0,e.modalInstance=void 0,r=!1})},d=function(){r=!0,l=!1,e.modalInstance||(e.modalInstance=a()),e.modalInstance.show()},c,u,h=function(){u&&(clearTimeout(u),u=void 0),!l&&(l=!0,!c&&(c=setTimeout(()=>{e.modalInstance=a()},40)))},m=function(){u=setTimeout(()=>{u=void 0,l=!1,c&&(clearTimeout(c),c=void 0,e.modalInstance&&!r&&(e.modalInstance=void 0))},2e3)};e.addEventListener("click",d),e.addEventListener("mouseover",h),e.addEventListener("mouseleave",m),s(()=>{e.removeEventListener("click",d),e.removeEventListener("hover",h),e.removeEventListener("leave",m)})}},Ge={checkFirst:()=>window.QRCode!==void 0,local:{js:["/platform/module/sokeio/easyqrcodejs/dist/easy.qrcode.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s,options:o})=>{if(e.$sokeio_qrcode)return;let n={titleFont:"normal normal bold 18px Arial",titleColor:"#004284",titleBackgroundColor:"#ccc",titleHeight:40,titleTop:25,...o};(n.text==null||n.text=="")&&e.getAttribute("wire:qrcode")!=""&&(n.text=i.$wire[e.getAttribute("wire:qrcode")]),e.hasAttribute("wire:qrcode.text")&&(n.text=e.getAttribute("wire:qrcode.text")),e.hasAttribute("wire:qrcode.title")&&(n.title=e.getAttribute("wire:qrcode.title")),e.$sokeio_qrcode=new window.QRCode(e,n)}},We={checkFirst:()=>window.Sortable!==void 0,local:{js:["/platform/module/sokeio/sortable/sortable.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s,options:o})=>{e.$sokeio_sortable||(console.log(e),e.$sokeio_sortable=window.Sortable.create(e,{animation:150,filter:"[data-sortable-ignore]",...o,draggable:"[wire\\:sortable\\.item]",handle:e.querySelector("[wire\\:sortable\\.handle]")?"[wire\\:sortable\\.handle]":null,sort:!0,dataIdAttr:"data-sortable-id",group:{animation:150,...(o==null?void 0:o.group)??{},name:e.getAttribute("wire:sortable"),pull:!1,put:!1},store:{...(o==null?void 0:o.store)??{},set:function(n){var l;try{let r=n.toArray().map((a,d)=>({order:d+1,value:a}));t.expression?i.$wire.call(t.expression,r):(l=Alpine.$data(e).onSortable)==null||l.call(e,r)}catch(r){console.error(r)}}}}))}},Xe={checkFirst:()=>window.Sortable!==void 0,local:{js:["/platform/module/sokeio/sortable/sortable.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s,options:o})=>{e.$sokeio_sortable_group=window.Sortable.create(e,{animation:150,filter:"[data-sortable-ignore]",...o,draggable:"[wire\\:sortable-group\\.item]",handle:e.querySelector("[wire\\:sortable-group\\.handle]")?"[wire\\:sortable-group\\.handle]":null,sort:!0,dataIdAttr:"data-sortable-id",group:{...(o==null?void 0:o.group)??{},name:e.closest("[wire\\:sortable-group]").getAttribute("wire:sortable-group"),pull:!0,put:!0},onSort:()=>{var n;try{let l=e.closest("[wire\\:sortable-group]");if(!l)return;let r=Array.from([l]).map((a,d)=>({order:d+1,value:a.getAttribute("wire:sortable-group.item-group"),items:a.$sokeio_sortable_group.toArray().map((c,u)=>({order:u+1,value:c}))}));t.expression?i.$wire.call(t.expression,r):(n=Alpine.$data(e).onSortable)==null||n.call(e,r)}catch(l){console.error(l)}}})}},ze={checkFirst:()=>window.tinymce!==void 0,local:{js:["/platform/module/sokeio/tinymce/tinymce.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s,options:o})=>{if(e.$sokeio_tinymce)return;e.hasAttribute("wire:tinymce")&&(o=new Function(`return ${e.getAttribute("wire:tinymce")};`)()),s(()=>{e.$sokeio_tinymce&&e.$sokeio_tinymce.remove&&(e.$sokeio_tinymce.remove(),e.$sokeio_tinymce=null)});let n=e.getAttribute("wire:tinymce-model")??e.getAttribute("wire:model"),l={};e.hasAttribute("wire:tinymce-skip")&&(l={}),e.$sokeio_tinymce=window.tinymce.init({...l??{},...o,promotion:!1,target:e,setup:function(r){r.on("init",function(){r.setContent(e.value),r.undoManager.dispatchChange()}),r.on("input",function(a){w(i.$wire,n,r.getContent())}),r.on("ExecCommand",a=>{["mceFocus"].includes(a.command)||w(i.$wire,n,r.getContent())})},file_picker_callback:function(r,a,d){window.showFileManager(function(c){r(c[0].url)},{type:"image",value:a})}})}},Ye={checkFirst:()=>window.TomSelect!==void 0,local:{js:["/platform/module/sokeio/tom-select/tom-select.min.js"],css:["/platform/module/sokeio/tom-select/tom-select.css"]},cdn:{js:["https://cdn.jsdelivr.net/npm/tom-select/dist/js/tom-select.complete.min.js"],css:["https://cdn.jsdelivr.net/npm/tom-select/dist/css/tom-select.css"]},init:({el:e,directive:t,component:i,cleanup:s,succeed:o,options:n})=>{if(e.$sokeio_tomselect)return;let l=e.getAttribute("wire:tom-select.remote-action"),r=e.getAttribute("wire:tom-select.base64"),a=e.getAttribute("wire:tom-select.dataSource");a&&(a=JSON.parse(a)??{}),r?(r=JSON.parse(window.atob(r))??{},r={...r,...n}):r={...n},l&&(r={...r,load:function(c,u){i.$wire.callActionUI(l,c).then(function(h){u(h)})}}),a&&(r={...r,options:a});let d=()=>{e.$sokeio_tomselect=new TomSelect(e,r)};Alpine.$data(e).$watch("FieldValue",function(c,u){e.skipUpdate||(e.skipUpdate=!0,console.log(this),e.$sokeio_tomselect&&(e.$sokeio_tomselect.destroy(),e.$sokeio_tomselect=null,d(),e.$sokeio_tomselect.setValue(c),console.log({oldValue:u,value:c}),setTimeout(()=>{e.skipUpdate=!1},1e3)))}),d(),s(()=>{e.$sokeio_tomselect.destroy(),e.$sokeio_tomselect=null})}},Je={checkFirst:()=>window.Plyr!==void 0,local:{js:["/platform/module/sokeio/plyr/plyr.min.js"],css:["/platform/module/sokeio/plyr/plyr.css"]},cdn:{js:["https://cdn.jsdelivr.net/npm/plyr@latest/dist/plyr.min.js"],css:["https://cdn.jsdelivr.net/npm/plyr@latest/dist/plyr.css"]},init:({el:e,directive:t,component:i,cleanup:s,options:o})=>{e.$sokeio_plyr=new window.Plyr(e,o)}},Qe={checkFirst:()=>!0,local:{js:[],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s})=>{window.sokeioUI.run(K,{selector:e})}},Ze={checkFirst:()=>!0,local:{js:[],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s,options:o})=>{let n=e.getAttribute("wire:media-file"),l=e.getAttribute("multiple"),r=e.getAttribute("wire:media-field"),a=()=>{window.showFileManager(function(d){let c=d;r&&(Array.isArray(c)?c=c.map(u=>u[r]):c=c[r]),w(i.$wire,n,c)},"image",l=="true")};e.addEventListener("click",a),s(()=>{e.removeEventListener("click",a)})}},et={checkFirst:()=>!0,local:{js:[],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:s})=>{if(e.$sokeio_template)return;let o=e.innerHTML;o=o.replace("export default"," return");let n=document.createElement("div");n.setAttribute("data-sokeio-template",new Date().getTime()),e.parentNode.insertBefore(n,e);let r=new Function(o)();e.$sokeio_template=window.sokeioUI.run(r,{selector:n}),n.parentNode.insertBefore(e.$sokeio_template.$el,n),n.remove(),e.setAttribute("data-sokeio-template-id",e.$sokeio_template.getId()),e.style.display="none",console.log("sokeio",e.$sokeio_template),e.parentNode.removeChild(e)}},tt={checkFirst:()=>window.ace!==void 0,local:{js:[],css:[]},cdn:{js:["https://cdnjs.cloudflare.com/ajax/libs/ace/1.36.5/ace.min.js"],css:[]},init:({el:e,directive:t,component:i,cleanup:s,options:o})=>{let n=e.getAttribute("wire:code-editor-model")??e.getAttribute("wire:model");e.$sokeio_code_editor=ace.edit(e,{...o,value:$(i.$wire,n)??"",selectionStyle:"text"});let l=e.getAttribute("wire:code-editor.language")??"javascript";e.$sokeio_code_editor.session.setMode("ace/mode/"+l),e.$sokeio_code_editor.session.on("change",function(r){setTimeout(function(){w(i.$wire,n,e.$sokeio_code_editor.getValue())},10)}),s(()=>{e.$sokeio_code_editor.destroy(),e.$sokeio_code_editor.container.remove()})}},b={apexcharts:Le,"get-value":Be,qrcode:Ge,carousel:qe,clipboard:Me,countup:Re,flatpickr:De,masonry:Ue,sortable:We,"sortable-group":Xe,tinymce:ze,modal:Ve,"tom-select":Ye,plyr:Je,media:Qe,"media-file":Ze,sokeio:et,"code-editor":tt};let H=(e,t,i)=>{if(!e.checkFirst||e.checkFirst()){e.init(t);return}i>50||setTimeout(()=>{H(e,t,i+1)},50)};function it(e){Object.keys(b).forEach(function(t){let i=b[t];e.directive(t,s=>{var n,l,r,a,d,c,u,h,m,S,E,x;if(s.length===0||s.directive.modifiers.length>0||s.el[`$$sokeio_${t.replace(/\./g,"_").replace(/\//g,"_").replace(/-/g,"_")}`])return;let o={};(o=s.el.getAttribute(`wire:${t}.options`))&&(o=new Function(`return ${o};`)()),i.checkFirst&&!i.checkFirst()&&(window[`$$sokeio_${t.replace(/\./g,"_").replace(/\//g,"_").replace(/-/g,"_")}_loader`]||(window[`$$sokeio_${t.replace(/\./g,"_").replace(/\//g,"_").replace(/-/g,"_")}_loader`]=!0,(n=i==null?void 0:i.cdn)!=null&&n.js&&Array.isArray((l=i==null?void 0:i.cdn)==null?void 0:l.js)&&((r=i==null?void 0:i.cdn)==null?void 0:r.js.length)>0?y((a=i==null?void 0:i.cdn)==null?void 0:a.js):(d=i==null?void 0:i.local)!=null&&d.js&&y((c=i==null?void 0:i.local)==null?void 0:c.js),(u=i==null?void 0:i.cdn)!=null&&u.css&&Array.isArray((h=i==null?void 0:i.cdn)==null?void 0:h.css)&&((m=i==null?void 0:i.cdn)==null?void 0:m.css.length)>0?_((S=i==null?void 0:i.cdn)==null?void 0:S.css):(E=i==null?void 0:i.local)!=null&&E.css&&_((x=i==null?void 0:i.local)==null?void 0:x.css),i.checkFirstInit&&i.checkFirstInit())),H(i,{...s,options:o},0)})})}const st={directive:b,install:it};function ot(e){let t=e.func,i=e.option,s=i==null?void 0:i.id,o=(i==null?void 0:i.params)??[];if(s){let n=window.Livewire.find(s);if(!n)return;console.log(n),n[t](...o)}console.log(e)}function nt(e){setTimeout(()=>{var t,i,s,o,n;console.log(e),(n=(o=(s=(i=(t=document.querySelector(`[wire\\:id="${e.wireId}"]`))==null?void 0:t.closest("[data-sokeio-id]"))==null?void 0:i.__sokeio)==null?void 0:s.$app)==null?void 0:o.closeApp)==null||n.call(o)})}function rt(e){window.sokeioMessage(e)}function lt(e){setTimeout(()=>{var t;(t=window.Livewire.find(e.wireTargetId))==null||t.soLoadData()})}function at(e){setTimeout(()=>{Alpine.navigate((e==null?void 0:e.url)??window.location.href)})}function ct(e){setTimeout(()=>{var t,i;(i=(t=window.Livewire.find(e.wireTargetId))==null?void 0:t.$parent)==null||i.soLoadData()})}const A={sokeio_message:rt,sokeio_close:nt,sokeio_refresh:lt,sokeio_refresh_parent:ct,sokeio_refresh_page:at,sokeio_call_func:ot};function dt(e){e.type&&A[e.type]&&A[e.type](e.payload)}const ut={dispatch:A,install:dt};document.addEventListener("livewire:init",()=>{st.install(window.Livewire)});document.addEventListener("sokeio::dispatch",e=>{let t=e.detail[0];ut.install({type:t.type,payload:{...t.payload,wireId:Pe(e.target)}})});document.addEventListener("alpine:init",()=>{Alpine.data("sokeioField",e=>({get FieldValue(){return $(this.$wire,e)},set FieldValue(t){w(this.$wire,e,t)}}))});document.addEventListener("alpine:init",()=>{Alpine.data("sokeioTable",()=>({searchExtra:!1,fieldSort:"",typeSort:"",statusCheckAll:!1,get dataSelecteds(){return this.$wire.dataSelecteds??[]},sortField(e){let t=e.getAttribute("data-field");t!=this.fieldSort?(this.fieldSort=t,this.typeSort="asc"):(this.typeSort=this.typeSort==="asc"?"desc":"asc",this.typeSort==="asc"&&(this.fieldSort="",this.typeSort="")),console.log(this);let i=this.$el.closest(".sokeio-table").getAttribute("data-sokeio-table-order-by");this.$wire.callActionUI(i,{field:this.fieldSort,type:this.typeSort})},tableInit(){this.$watch("$wire.dataSelecteds",()=>{let e=[...this.$el.querySelectorAll(".sokeio-checkbox-one")].map(t=>t.value);this.statusCheckAll=e.length===e.filter(t=>this.$wire.dataSelecteds.includes(t)).length}),Livewire.hook("request",({component:e,commit:t,respond:i,succeed:s,fail:o})=>{s(({snapshot:n,effect:l})=>{setTimeout(()=>{let r=[...this.$el.querySelectorAll(".sokeio-checkbox-one")].map(a=>a.value);this.statusCheckAll=r.length===r.filter(a=>this.$wire.dataSelecteds.includes(a)).length},0)})})},checkboxAll(e){let t=e.target.checked,i=[...this.$el.closest("table").querySelectorAll(".sokeio-checkbox-one")].map(s=>s.value);this.$wire.dataSelecteds===void 0&&(this.$wire.dataSelecteds=[]),t?this.$wire.dataSelecteds=this.$wire.dataSelecteds.concat(i):this.$wire.dataSelecteds=this.$wire.dataSelecteds.filter(s=>!i.includes(s))}}))});document.addEventListener("alpine:init",()=>{Alpine.data("sokeioGlobal",()=>({isAuth:void 0,init(){window.sokeioGlobal=this,this.$watch("$wire.isAuth",e=>{this.sendAuth()}),setTimeout(()=>{this.sendAuth()},100)},sendAuth(){this.$wire.isAuth!=this.isAuth&&(this.isAuth=this.$wire.isAuth,document.dispatchEvent(new CustomEvent("sokeio::auth",{detail:{isAuth:this.$wire.isAuth,authUser:this.$wire.authUser}})))}}))});window.sokeioGlobal=null;document.addEventListener("alpine:init",()=>{Alpine.data("sokeioBody",()=>({isAuth:!1,authUser:null,themeDark:!1,init(){this.$watch("themeDark",e=>{this.$el.setAttribute("data-bs-theme",e?"dark":"light")}),document.removeEventListener("sokeio::auth",this.sendAuth.bind(this)),document.addEventListener("sokeio::auth",this.sendAuth.bind(this))},sendAuth({detail:{isAuth:e,authUser:t}}){this.isAuth=e,this.authUser=t},toggleTheme(){this.themeDark=!this.themeDark}}))});window.sokeioGlobal=null;document.addEventListener("alpine:init",()=>{Alpine.data("sokeioPermissionList",()=>({changeCheck(e){let t=e.target.checked;e.target.parentElement.parentElement.querySelectorAll("input").forEach(i=>{i!==e.target&&(i.checked=t,i.dispatchEvent(new Event("change")))}),setTimeout(()=>{this.checkGroupPermission()},100)},checkGroupPermission(){this.$el.querySelectorAll(".permission-group input").forEach(e=>{let t=[...e.parentElement.parentElement.querySelectorAll(".permission-item input")].filter(i=>i!=e);t.length>0?e.checked=t.every(i=>i.checked):e.checked=!0})},init(){this.$el.querySelectorAll(".permission-item input").forEach(e=>{e.addEventListener("change",this.checkGroupPermission.bind(this))}),setTimeout(()=>{Array.isArray(this.$wire.values)||(this.$wire.values=[]),this.checkGroupPermission()})}}))});window.addStyleToWindow=_;window.addScriptToWindow=y;window.sokeioUI=k;
