var H=Object.defineProperty;var U=(e,t,i)=>t in e?H(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var w=(e,t,i)=>(U(e,typeof t!="symbol"?t+"":t,i),i);function K(e){const t=/\[([\w-:]+)((?:\s+\w+\s*=\s*"[^"]*")*)(\](.*?)\[\/\1\]|\s*\/\])/gs;return[...e.matchAll(t)].map(i=>{const[o,s,r,,n]=i;return{component:o,tag:s,attrs:r,content:n}})}const B="############$$$$$$$$############";function G(...e){console.log(...e)}function V(e){const t=(n,l)=>(Object.getOwnPropertyDescriptor(n,l)||{}).get,i=(n,l)=>typeof n[l]=="function",o=n=>n&&n!==Object.prototype&&Object.getOwnPropertyNames(n).filter(l=>t(n,l)||i(n,l)).concat(o(Object.getPrototypeOf(n))||[]),s=n=>Array.from(new Set(o(n)));return(n=>s(n).filter(l=>l!=="constructor"&&!~l.indexOf("__")))(e)}function z(e){let t={};return Reflect.ownKeys(e).forEach(i=>{Object.defineProperty(t,i,{get(){return e[i]},set(o){e[i]=o},enumerable:!0,configurable:!0})}),t}function W(e,t,i){return new Function("$event","$obj",`with($obj) {  ${e}}`).apply(i,[t,z(i)])}function J(e,t,i){if(!t||!e)return;let o=t.split(".");if(o.length===1)return e[t]=i,e[t];let s=o.shift(),r=o.join(".");s&&(e[s]===void 0&&(e[s]={}),this.dataSet(e[s],r,i))}function X(e,t){return t===""||!t?e:t.split(".").reduce((i,o)=>{if(i!==void 0)return i[o]},e)}function Q(e){const t=document.createElement("template");return t.innerHTML=e,t.content.firstChild}let Y=function(e){if(!e)return;Array.isArray(e)||(e=[e]);const t=document.getElementsByTagName("script")[0];e.forEach(i=>{let o=document.createElement("script");o.src=i,t.parentNode.insertBefore(o,t)})},Z=function(e){if(!e)return;Array.isArray(e)||(e=[e]);const t=document.getElementsByTagName("link")[0];e.forEach(i=>{let o=document.createElement("link");o.rel="stylesheet",o.href=i,t.parentNode.insertBefore(o,t)})};const f=(...e)=>{window.SOKEIO_DEBUG&&console.log(...e)};function ee(){let e=c.convertHtmlToElement('<div class="so-modal-overlay"></div>'),t=document.body.querySelector(".so-modal-overlay");return t?t.parentNode.insertBefore(e,t):document.body.appendChild(e),e}function k(e,t){let i=t;return t.split(".").forEach(o=>{if(o.startsWith("$")){if(e[o]===void 0||e[o]===null)return;e=e[o]}else i=o}),[i,e]}const c={getComponentsFromText:K,LOG:G,tagSplit:B,runFunction:W,getMethods:V,dataSet:J,dataGet:X,convertHtmlToElement:Q,addScriptToWindow:Y,addStyleToWindow:Z};function te({component:e,el:t,name:i,method:o,value:s}){if(s){let[r,n]=k(e,s);n.watch(r,()=>{t.innerHTML=n[r]}),t.innerHTML=n[r]}}function ie({component:e,el:t,name:i,method:o,value:s}){if(s){let[r,n]=k(e,s);n.watch(r,()=>{t.value=n[r]}),t.value=n[r],t.addEventListener("input",l=>{n[r]=l.target.value})}}function oe({component:e,el:t,name:i,method:o,value:s}){s&&(t["__SOKEIO_ON__"+o]&&t.removeEventListener(o,t["__SOKEIO_ON__"+o]),t["__SOKEIO_ON__"+o]=r=>{(ignore=t.getAttribute("so-on:ignore"))&&r.target.closest(ignore)||c.runFunction(s,r,e)},t.addEventListener(o,t["__SOKEIO_ON__"+o]))}function se({component:e,el:t,name:i,method:o,value:s}){if(s){let[r,n]=k(e,s);n.watch(r,()=>{t.innerText=n[r]}),t.innerText=n[r]}}const O={html:te,model:ie,text:se,on:oe},F="so-",C=(e,t)=>{[...e.attributes].forEach(i=>{if(i.name.startsWith(F)){let o=i.name.split(":"),s=o[0].replace(F,""),r=o[1],n="";r&&(r=r.split("."),r.length>1&&(n=r[1],r=r[0])),O[s]?O[s]({component:t,el:e,name:s,method:r,method2:n,value:i.value}):console.error("feature not found: "+s)}})};function re(e){setTimeout(()=>{e.$el&&(e.$el.querySelectorAll("*").forEach(t=>{C(t,e)}),C(e.$el,e))})}function L(){return document.querySelector('meta[name="csrf_token"]')?document.querySelector('meta[name="csrf_token"]').getAttribute("value"):document.querySelector('meta[name="csrf-token"]')?document.querySelector('meta[name="csrf-token"]').getAttribute("value"):document.querySelector('input[name="_token"]')?document.querySelector('input[name="_token"]').getAttribute("value"):""}function ne(e,t=void 0,i={},o="GET"){console.log(e,t,i,o);let s=L();return f("fetch::content",s),fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":s,"X-SOKEIO":""},...i,method:o,body:JSON.stringify(t)})}const le={fetch(e,t=void 0,i={},o="GET"){return ne(e,t,i,o)},get(e,t=void 0,i={}){return this.fetch(e,t,i,"GET")},post(e,t={},i={}){return this.fetch(e,t,i,"POST")},put(e,t={},i={}){return this.fetch(e,t,i,"PUT")},delete(e,t={},i={}){return this.fetch(e,t,i,"DELETE")},patch(e,t={},i={}){return this.fetch(e,t,i,"PATCH")},upload(e,t,i={}){let o=i.headers||{},s=i.progress||!1;return new Promise((r,n)=>{const l=new XMLHttpRequest;l.open("POST",e),Object.entries(o).forEach(([a,d])=>{l.setRequestHeader(a,d)}),l.responseType="json",l.setRequestHeader("X-SOKEIO",""),l.setRequestHeader("X-CSRF-TOKEN",L()),l.upload.addEventListener("progress",a=>{a.detail={},a.detail.progress=Math.floor(a.loaded*100/a.total),s&&s(a)}),l.onload=()=>{l.status===200?r(l.response):n(l.response)},l.onerror=()=>{n(l.response)},l.send(t)})}};class I{constructor(t=void 0){w(this,"listeners",{});w(this,"removeListeners",[]);w(this,"data",{});this.data=t??{}}getValue(t){return this.data[t]}setValue(t,i){const o=this.data[t];setTimeout(()=>{this.changeProperty(t,i,o)},1),this.data[t]=i}watch(t,i){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(i)}changeProperty(t,i,o){this.listeners[t]&&this.listeners[t].forEach(s=>s(i,o))}cleanup(){this.removeListeners.forEach(t=>t()),this.removeListeners=[],this.listeners={}}check(t){return this.data[t]!==void 0}getKeys(){return Object.keys(this.data)}}const q=le;let ae=new Date().getTime(),y={},de=(e,t,i)=>!e.startsWith("_")&&i.indexOf(e)===t;function ce(e,t){y[e]=t}function ue(e,t,i=null){var o,s,r;return!y[e]&&!(i!=null&&i.components[e])&&!((o=i==null?void 0:i.$root)!=null&&o.components[e])?(console.error("Component not found: "+e),null):i!=null&&i.components[e]?v(i==null?void 0:i.components[e],t,i):(s=i==null?void 0:i.$root)!=null&&s.components[e]?v((r=i==null?void 0:i.$root)==null?void 0:r.components[e],t,i):v(y[e],t,i)}function fe(e){let t=e.$el.innerHTML,o=c.getComponentsFromText(t).map(s=>{t=t.split(s.component).join(c.tagSplit);let r=ue(s.tag,s.attrs,e);return r&&he(r),r});if(o.length){let s="";t.split(c.tagSplit).forEach((r,n)=>{s+=r,o[n]&&(s+='<span id="sokeio-component-'+o[n].getId()+'">'+o[n].getId()+"</span>")}),t=s,e.$children=o}return e.$el.innerHTML=t,e}function he(e){f("doRegister",e),e.register&&e.register()}function _(e){f("doBoot",e),e.boot&&e.boot();let t=e.render?e.render():"<div></div>";t=t.trim(),e.$el?e.$el.innerHTML=t:e.$el=c.convertHtmlToElement(t),re(e),fe(e),e.$children&&e.$children.forEach(i=>{_(i)})}function $(e){f("doRender",e),e.$children&&e.$children.forEach(t=>{let i=e.$el.querySelector("#sokeio-component-"+t.getId());i.parentNode.insertBefore(t.$el,i),i.remove(),$(t)}),e.$el&&(e.$el.setAttribute("data-sokeio-id",e.getId()),e.$el._sokeio=e)}function S(e){f("doReady",e),e.$children&&e.$children.forEach(t=>{S(t)}),e.ready&&e.ready(),e.$hookReady&&e.$hookReady.forEach(t=>{t.bind(e)()})}function A(e){var t;f("doDestroy",e),e.$children&&e.$children.forEach(i=>{A(i)}),e.destroy&&e.destroy(),e.$hookDestroy&&e.$hookDestroy.forEach(i=>{i.bind(e)()}),(t=e.$el)==null||t.remove(),e.$hookDestroy=[],e.$hookReady=[],e.$children=[],e.$el=null,e.state={},e=void 0}function v(e,t,i=null){e.state||(e.state={});let o={...e,$initState:{...JSON.parse(JSON.stringify(e.state))},$parent:i,$children:[],$id:0,$el:null,$hookDestroy:[],$hookReady:[],$root:i&&i.$root},s=Object.keys(o).concat(Object.keys(e.state)).concat(Object.keys(t)).concat(c.getMethods(o)).filter(de).concat(["getId","watch","cleanup","show","boot","ready","delete","destroy","onReady","reRender","querySelectorAll","on","$request","$root","__data__","__props__"]).filter(function(r,n,l){return l.indexOf(r)===n});return Object.defineProperty(o,"$request",{value:q}),Object.defineProperty(o,"getId",{value:function(){return this.$id||(this.$id=++ae),this.$id}}),Object.defineProperty(o,"__data__",{value:new I(e.state??{})}),Object.defineProperty(o,"__props__",{value:new I(t)}),o.sokeAppSelector&&Object.defineProperty(o,"show",{value:function(){if(this.$el){if(this.overlay){document.querySelector(".so-modal-overlay")||(document.body.classList.add("so-modal-open"),document.body.style.overflow="hidden");let r=ee();document.body.appendChild(r),this.cleanup(()=>{document.body.removeChild(r),document.querySelector(".so-modal-overlay")||(document.body.classList.remove("so-modal-open"),document.body.style.overflow="auto")})}o.sokeAppSelector.appendChild(this.$el)}}}),Object.defineProperty(o,"querySelectorAll",{value:function(r,n){this.onReady(function(){if(this.$el){let l=[...this.$el.querySelectorAll(r)];return n&&n.bind(this)(l),l}})}}),Object.defineProperty(o,"on",{value:function(r,n,l){this.querySelectorAll(r,a=>{a.forEach(d=>{f(n,d,l),d.addEventListener(n,l),this.$hookDestroy.push(()=>{d.removeEventListener(n,l)})})})}}),Object.defineProperty(o,"watch",{value:function(r,n){return this.__data__.check(r)&&this.__data__.watch(r,n),this.__props__.check(r)&&this.__props__.watch(r,n),this}}),Object.defineProperty(o,"delete",{value:function(){A(this)}}),Object.defineProperty(o,"cleanup",{value:function(r){return r&&this.$hookDestroy.push(r),this}}),Object.defineProperty(o,"onReady",{value:function(r){return r&&this.$hookReady.push(r),this}}),Object.defineProperty(o,"reRender",{value:function(){let r=this.$el.parentNode,n=this.$el.nextSibling;return this.$el.remove(),this.$el=null,f("reRender",this),_(this),$(this),S(this),n?r.insertBefore(this.$el,n):r.appendChild(this.$el),this}}),new Proxy(o,{ownKeys:()=>s,set:(r,n,l)=>r.__data__.check(n)?(r.__data__.setValue(n,l),!0):r.__props__.check(n)?(r.__props__.setValue(n,l),!0):r[n]!==void 0?(r[n]=l,!0):!1,get:(r,n)=>r.__data__.check(n)?r.__data__.getValue(n):r.__props__.check(n)?r.__props__.getValue(n):(r[n]!==void 0,r[n])})}const me=q;function pe(e){document.addEventListener("sokeio::register",e)}function we(e){document.addEventListener("sokeio::boot",e)}function ve(e){document.addEventListener("sokeio::ready",e)}function ye(e){document.addEventListener("sokeio::destroy",e)}function x(e){document.dispatchEvent(new CustomEvent("sokeio::register",{detail:{registerComponent:ce,component:e}}))}function R(e){_(e),document.dispatchEvent(new CustomEvent("sokeio::boot",{detail:{component:e}}))}function P(e){$(e),document.dispatchEvent(new CustomEvent("sokeio::render",{detail:{component:e}}))}function D(e){S(e),document.dispatchEvent(new CustomEvent("sokeio::ready",{detail:{component:e}}))}function be(e){A(e),document.dispatchEvent(new CustomEvent("sokeio::destroy",{detail:{component:e}}))}function ge(e={},t={}){var r;let i=t.selector;i||(i=document.body),typeof i=="string"&&(i=document.querySelector(i));let o={...e,sokeAppSelector:i,state:JSON.parse(JSON.stringify(e.state??{}))};t.components&&(typeof t.components=="string"&&(t.components=JSON.parse(t.components)),o.components=o.components??{},o.components={...o.components,...t.components}),f("templateCopy",o),t.init===void 0||t.init,document.dispatchEvent(new CustomEvent("sokeio::run")),(r=t==null?void 0:t.props)!=null&&r.wireId&&(t.props={...t.props,wireId:t.props.wireId,$wire:window.Livewire.find(t.props.wireId)});let s=new v(o,t.props??{});return s.$root=s,x(s),f("run",s),R(s),P(s),D(s),s.hide||s.show(),s}const ke=Object.freeze(Object.defineProperty({__proto__:null,$request:me,boot:R,destroy:be,onBoot:we,onDestroy:ye,onReady:ve,onRegister:pe,ready:D,register:x,render:P,run:ge},Symbol.toStringTag,{value:"Module"}));window.sokeioUI=ke;const _e={diskRender(){let e=' <select so-model="$parent.disk" class="form-select mt-1">';return Object.keys(this.$parent.disks).forEach(t=>{e+=`<option value="${t}" ${this.$parent.disk==t?"selected":""}>${t}</option>`}),e+="</select>",`<div>
    <h2 class="mb-1">Disks</h2>
    ${e}</div>`},render(){return`
                <div >
                ${this.diskRender()}
                </div>
        `}},$e={render(){return`
        <div class="so-fm-header">
            <div class="so-fm-header-title">
                <a href="https://sokeio.com" class="logo-large" target="_blank">
                    Sokeio FM V1.0
                </a>
                <a href="https://sokeio.com" class="logo-small" target="_blank">
                    SFM1.0
                </a>
            </div>
            <div class="so-fm-header-control">
                <div class="so-fm-header-control-item" so-on:click="$parent.createFolder()">
                    <div class="so-fm-header-control-item-icon">
                        <i class="ti ti-folder-plus"></i>
                    </div>
                    <div class="so-fm-header-control-item-text">New Folder</div>
                </div>
                <div class="so-fm-header-control-item" so-on:click="$parent.uploadFile()">
                    <div class="so-fm-header-control-item-icon">
                        <i class="ti ti-upload"></i>
                    </div>
                    <div class="so-fm-header-control-item-text">Upload File</div>
                </div>
               
                <div class="so-fm-header-control-item" so-on:click="$parent.refreshSelected()">
                    <div class="so-fm-header-control-item-icon">
                        <i class="ti ti-refresh"></i>
                    </div>
                    <div class="so-fm-header-control-item-text">Refresh</div>
                </div>
            </div>
        </div>
        `}},Se={render(){return`
                <div class="so-fm-footer">
                        Footer
                </div>
        `}},Ae={state:{title:"abc",name:"abc",current:"",path:"",isHide:!0},register(){this.$parent.$modalNewFolder=this},cancel(){this.isHide=!0,this.reRender()},open(e,t,i,o){this.name=e,this.title=t,this.current=i,this.path=o,this.isHide=!1,this.reRender()},ok(){this.isHide=!0,this.reRender(),this.$parent.changeFolder({name:this.name,current:this.current,path:this.path})},render(){return this.isHide?"<div style='display:none'></div>":`
                  <div class="so-fm-modal">
                      <div class="so-fm-modal-dialog">
                          <div class="so-fm-modal-content">
                              <div class="so-fm-modal-header">
                                  <h3 so-text="title">New Folder</h3>
                              </div>
                              <div class="so-fm-modal-body">
                                  <input type="text" so-model="name"  class="form-control">
                              </div>
                              <div class="so-fm-modal-footer pt-1">
                                  <button class="btn btn-danger" so-on:click="cancel()">Cancel</button>
                                  <button class="btn btn-primary">OK</button>
                              </div>
                          </div>
                      </div>
                  </div>
          `}},Ee={state:{title:"abc",name:"abc",current:"",isHide:!0},register(){this.$parent.$modalUpload=this},cancel(){this.isHide=!0,this.reRender()},open(e,t,i){this.name=e,this.title=t,this.current=i,this.isHide=!1,this.reRender()},render(){return this.isHide?"<div style='display:none'></div>":`
                  <div class="so-fm-modal">
                      <div class="so-fm-modal-dialog">
                          <div class="so-fm-modal-content">
                              <div class="so-fm-modal-header">
                                  <h3 so-text="title">Upload</h3>
                              </div>
                              <div class="so-fm-modal-body">
                                  <input type="file"   style="display:none"/>
                              <div class="so-dropzone">
                              Upload file
                                  </div>
                              </div>
                              <div class="so-fm-modal-footer pt-1">
                                  <button class="btn btn-danger" so-on:click="cancel()">Cancel</button>
                                  <button class="btn btn-primary">OK</button>
                              </div>
                          </div>
                      </div>
                  </div>
          `}},je={itemRender(e){return`
           <div class="so-fm-item-box">
                              </div>
          `},bodyGridRender(){let e="";for(let t=0;t<600;t++)e+=this.itemRender();return e},render(){return`
            <div class="so-fm-body-grid">
                ${this.bodyGridRender()}
            </div>
          `}},Te={components:{"so-fm::header":$e,"so-fm::folder-box":_e,"so-fm::grid-file":je,"so-fm::footer":Se,"so-fm::new-folder":Ae,"so-fm::upload":Ee},state:{path:"/",files:[],folders:[],disks:[],disk:"public",$modalNewFolder:null,$modalUpload:null},register(){this.refreshSelected()},boot(){this.cleanup(function(){})},createFolder(){console.log(this.$root),this.$root.fnCallback("createFolder"),this.$modalNewFolder.open("New Folder","New Folder",this.path)},uploadFile(){this.$modalUpload.open("Upload","Upload",this.path)},deleteSelected(){alert("delete selected")},renameSelected(){alert("rename selected")},setInfoData(e){this.files=e.files,this.folders=e.folders,this.disks=e.disks,this.disk=e.disk,this.path=e.path,this.reRender()},getInfoData(){return{disk:this.disk,path:this.path}},refreshSelected(){this.$request.post("/platform/file-manager",this.getInfoData()).then(e=>e.json()).then(e=>this.setInfoData(e))},render(){return` <div class="so-fm-wrapper">
          [so-fm::header /]
          <div class="so-fm-body">
              <div class="so-fm-folder-box">
              [so-fm::folder-box /]
              </div>
              <div class="so-fm-body-list">
                  [so-fm::grid-file /]
              </div>
          </div>
          [so-fm::footer /]
          [so-fm::new-folder /]
          [so-fm::upload /]
        </div>`}};window.showFileManager=function(e,t="file"){window.showModal("File Manager",{type:t,fnCallback:e,template:Te,modalSize:"xxl",skipOverlayClose:!0})};setTimeout(()=>{window.showFileManager(function(e){console.log(e)})},100);function N(e="",t="",i="",o="",s=""){var u,h,m;o.indexOf("<")===-1&&(o=`<i class="${o}"></i>`),o=o.replace('class="','class="so-modal-icon '),i===void 0&&(i=` <div class="so-modal-header">${o}
                            <h3 class="so-modal-title" so-text="title"></h3>
                        </div>`),$content=i,!t&&!$content?$content=e:$content=`${$conten}<div class="so-modal-body">${e}</div> ${t?`<div class="so-modal-footer">${t}</div>`:""}`;let r='<a class="so-modal-close" so-on:click="this.delete()"></a>',n='so-on:click="this.delete()" so-on:ignore=".so-modal-dialog"',l=c.convertHtmlToElement(e),a=(s==null?void 0:s.skipOverlayClose)??!1,d=(s==null?void 0:s.modalSize)??"lg";return l&&l.getAttribute&&l.querySelector&&(((u=l.querySelector)!=null&&u.call(l,".hide-show-button-close")||l.getAttribute("data-hide-button-close"))&&(r=""),d=l.getAttribute("data-modal-size"),!d&&((h=l.querySelector)!=null&&h.call(l,"[data-modal-size]"))&&(d=l.querySelector("[data-modal-size]").getAttribute("data-modal-size")),a=l.getAttribute("data-skip-overlay-close"),!a&&((m=l.querySelector)!=null&&m.call(l,"[data-skip-overlay-close]"))&&(a=l.querySelector("[data-skip-overlay-close]").getAttribute("data-skip-overlay-close"))),a&&(n=""),d||(d="lg"),`<div class="so-modal so-modal-size-${d}" tabindex="-1" aria-modal="true" ${n} >
                <div class="so-modal-dialog">
                    <div class="so-modal-content card">
                        ${$content}
                    </div>
                    ${r}
                </div>
            </div>`}const Oe={state:{html:"",loading:!0},boot(){var t;if(f("modal.components",this.components),this.htmlComponent&&(f("modal.htmlComponent",this.htmlComponent),this.loading=!1,this.html=this.htmlComponent),this.html)return;let e="";this.elTarget&&(this.elTarget.hasAttribute("wire:id")?e=this.elTarget.getAttribute("wire:id"):e=(t=this.elTarget.closest("[wire\\:id]"))==null?void 0:t.getAttribute("wire:id")),this.url&&(this.url.includes("?")?this.url=this.url+"&refId="+e+"&_time="+new Date().getTime():this.url=this.url+"?refId="+e+"&_time="+new Date().getTime(),f("modal.url",this.url),this.$request.get(this.url).then(async i=>{i.ok?this.html=await i.text():this.html=`<div class="so-modal-content-error"><h3>${i.statusText}</h3><button class="btn btn-primary" so-on:click="this.delete()">Close</button></div>`,this.loading=!1,this.reRender()}))},ready(){},render(){return f("modal.render",this.html),this.skipLoading&&this.loading?"<template></template>":N(this.html||'<div class="so-modal-loader" data-hide-close="true"><span class="loader"></span></div>',"","",this.icon,this)}};window.showModal=function(e="",t={url:void 0,template:void 0,templateId:void 0,elTarget:void 0,data:{},callback:()=>{},hide:!1,overlay:!0}){if(t.templateId&&(t.template=document.getElementById(t.templateId).innerHTML.replace("export default","return "),delete t.templateId),t.template){let i=t.template;typeof i=="string"&&(i=new Function(i)()),t={...t,components:{"sokeio::modal::template":i},htmlComponent:"[sokeio::modal::template][/sokeio::modal::template]"},delete t.template}return window.sokeioUI.run(Oe,{props:{title:e,overlay:!0,...t}})};const Fe={checkFirst:()=>window.ApexCharts!==void 0,local:{js:["/platform/module/sokeio/apexcharts/dist/apexcharts.min.js"],css:["/platform/module/sokeio/apexcharts/dist/apexcharts.css"]},cdn:{js:["https://cdn.jsdelivr.net/npm/apexcharts@latest/dist/apexcharts.min.js"],css:["https://cdn.jsdelivr.net/npm/apexcharts@latest/dist/apexcharts.css"]},init:({el:e,directive:t,component:i,cleanup:o})=>{}},Ce={checkFirst:()=>window.bootstrap.Carousel!==void 0,local:{js:[],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:o,options:s})=>{e.$sokeio_carousel=window.bootstrap.Carousel.getOrCreateInstance(e,s)}},Ie={checkFirst:()=>window.Clipboard!==void 0,local:{js:["/platform/module/sokeio/clipboard/dist/clipboard.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:o,options:s})=>{e.$sokeio_clipboard=new window.Clipboard(e,s)}},Le={checkFirst:()=>window.CountUp!==void 0,local:{js:["/platform/module/sokeio/count-up/dist/count-up.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:o,options:s})=>{let r=e.getAttribute("wire:countup");(!r||r=="")&&(r=c.dataGet(i.$wire,e.getAttribute("wire:countup.model"))),e.$sokeio_countup=new window.CountUp(e,r,s),e.$sokeio_countup.error?console.error(e.$sokeio_countup.error):e.$sokeio_countup.start()}};window.shortcodePattern=/\[([\w-:]+)((?:\s+\w+\s*=\s*"[^"]*")*)(\](.*?)\[\/\1\]|\s*\/\])/s;function qe(e){let t=e.toLowerCase();return t=t.replace("dd","99"),t=t.replace("d","99"),t=t.replace("mm","99"),t=t.replace("m","99"),t=t.replace("yyyy","9999"),t=t.replace("yy","9999"),t=t.replace("y","9999"),t}function xe(e){let t=e.toLowerCase();return t=t.replace("hh","99"),t=t.replace("h","99"),t=t.replace("ii","99"),t=t.replace("i","99"),t=t.replace("ss","99"),t=t.replace("s","99"),t}function Re(e){return xe(qe(e))}function Pe(e){return e.getAttribute("wire:id")??e.closest("[wire:id]").getAttribute("wire:id")}const De={checkFirst:()=>window.flatpickr!==void 0,local:{js:["/platform/module/sokeio/flatpickr/dist/flatpickr.min.js"],css:["/platform/module/sokeio/flatpickr/dist/flatpickr.min.css"]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:o,options:s})=>{let r=e.getAttribute("wire:model"),n=(s==null?void 0:s.dateFormat)??(s!=null&&s.enableTime?"Y/m/d H:i:S":"Y/m/d"),l=Re(n);e.$sokeio_flatpickr=new window.flatpickr(e,{allowInput:!0,allowInvalidPreload:!0,dateFormat:n,...s,onChange:(a,d,u)=>{c.dataSet(i.$wire,r,a)}}),setTimeout(async()=>{Alpine.$data(e).maskFormat=l},10)}},Ne={checkFirst:()=>!0,init:({el:e,directive:t,component:i,cleanup:o})=>{let s=e.getAttribute("wire:model"),r=e.getAttribute("wire:get-value"),n=e.getAttribute("wire:get-value-parent")??i.$wire.soRefId;if(!n)return;let l=window.Livewire.find(n);if(!l)return;let a=c.dataGet(l,r);c.dataSet(i.$wire,s,a)}},Me={checkFirst:()=>window.Masonry!==void 0,local:{js:["/platform/module/sokeio/masonry/dist/masonry.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:o,options:s})=>{e.$sokeio_masonry=new Masonry(e,s);let r=()=>{e.$sokeio_masonry_timer&&(e.$sokeio_masonry.layout(),clearTimeout(e.$sokeio_masonry_timer),e.$sokeio_masonry_timer=null),e.$sokeio_masonry_timer=setTimeout(()=>{e.$sokeio_masonry.layout(),e.$sokeio_masonry_timer=null},100)};window.addEventListener("resize",r),o(()=>{window.removeEventListener("resize",r)})}},He={checkFirst:()=>!0,local:{js:[],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:o})=>{let s={icon:'<i class="ti ti-alarm"></i>',templateId:"",template:"",url:"",elTarget:e,hide:!0},r=e.getAttribute("wire:modal.title");e.hasAttribute("wire:modal.url")&&(s.url=e.getAttribute("wire:modal.url")),e.hasAttribute("wire:modal.size")&&(s.size=e.getAttribute("wire:modal.size")),e.hasAttribute("wire:modal.icon")&&(s.icon=e.getAttribute("wire:modal.icon")),e.hasAttribute("wire:modal.template-id")&&(s.templateId=e.getAttribute("wire:modal.template-id")),e.hasAttribute("wire:modal.template")&&(s.template=e.getAttribute("wire:modal.template"));let n=!1,l=!1,a=function(){return window.showModal(r,s).cleanup(()=>{u=void 0,e.modalInstance=void 0,l=!1})},d=function(){l=!0,n=!1,e.modalInstance||(e.modalInstance=a()),e.modalInstance.show()},u,h,m=function(){h&&(clearTimeout(h),h=void 0),!n&&(n=!0,!u&&(u=setTimeout(()=>{e.modalInstance=a()},40)))},p=function(){h=setTimeout(()=>{h=void 0,n=!1,u&&(clearTimeout(u),u=void 0,e.modalInstance&&!l&&(e.modalInstance=void 0))},2e3)};e.addEventListener("click",d),e.addEventListener("mouseover",m),e.addEventListener("mouseleave",p),o(()=>{e.removeEventListener("click",d),e.removeEventListener("hover",m),e.removeEventListener("leave",p)})}},Ue={checkFirst:()=>window.QRCode!==void 0,local:{js:["/platform/module/sokeio/easyqrcodejs/dist/easy.qrcode.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:o,options:s})=>{if(e.$sokeio_qrcode)return;let r={titleFont:"normal normal bold 18px Arial",titleColor:"#004284",titleBackgroundColor:"#ccc",titleHeight:40,titleTop:25,...s};(r.text==null||r.text=="")&&e.getAttribute("wire:qrcode")!=""&&(r.text=i.$wire[e.getAttribute("wire:qrcode")]),e.hasAttribute("wire:qrcode.text")&&(r.text=e.getAttribute("wire:qrcode.text")),e.hasAttribute("wire:qrcode.title")&&(r.title=e.getAttribute("wire:qrcode.title")),e.$sokeio_qrcode=new window.QRCode(e,r)}},Ke={checkFirst:()=>window.Sortable!==void 0,local:{js:["/platform/module/sokeio/sortable/sortable.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:o,options:s})=>{e.$sokeio_sortable||(e.$sokeio_sortable=window.Sortable.create(e,{animation:150,...s,draggable:"[wire\\:sortable\\.item]",handle:e.querySelector("[wire\\:sortable\\.handle]")?"[wire\\:sortable\\.handle]":null,sort:!0,dataIdAttr:"data-sortable-id",group:{animation:150,...(s==null?void 0:s.group)??{},name:e.getAttribute("wire:sortable"),pull:!1,put:!1},store:{...(s==null?void 0:s.store)??{},set:function(r){var n;try{let l=r.toArray().map((a,d)=>({order:d+1,value:a}));t.expression?i.$wire.call(t.expression,l):(n=Alpine.$data(e).onSortable)==null||n.call(e,l)}catch(l){console.error(l)}}}}))}},Be={checkFirst:()=>window.Sortable!==void 0,local:{js:["/platform/module/sokeio/sortable/sortable.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:o,options:s})=>{t.modifiers.includes("item-group")&&(e.$sokeio_sortable_group=window.Sortable.create(e,{animation:150,...s,draggable:"[wire\\:sortable-group\\.item]",handle:e.querySelector("[wire\\:sortable-group\\.handle]")?"[wire\\:sortable-group\\.handle]":null,sort:!0,dataIdAttr:"wire:sortable-group.item",group:{...(s==null?void 0:s.group)??{},name:e.closest("[wire\\:sortable-group]").getAttribute("wire:sortable-group"),pull:!0,put:!0},onSort:()=>{let r=e.closest("[wire\\:sortable-group]");if(!r)return;let n=Array.from(r.querySelectorAll("[wire\\:sortable-group\\.item-group]")).map((l,a)=>({order:a+1,value:l.getAttribute("wire:sortable-group.item-group"),items:l.$sokeio_sortable_group.toArray().map((d,u)=>({order:u+1,value:d}))}));i.$wire.call(r.getAttribute("wire:sortable-group"),n)}}))}},Ge={checkFirst:()=>window.tinymce!==void 0,local:{js:["/platform/module/sokeio/tinymce/tinymce.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:o,options:s})=>{if(e.$sokeio_tinymce)return;e.hasAttribute("wire:tinymce")&&(s=new Function(`return ${e.getAttribute("wire:tinymce")};`)()),o(()=>{e.$sokeio_tinymce&&e.$sokeio_tinymce.remove&&(e.$sokeio_tinymce.remove(),e.$sokeio_tinymce=null)});let r=e.getAttribute("wire:tinymce-model")??e.getAttribute("wire:model"),n={};e.hasAttribute("wire:tinymce-skip")&&(n={}),e.$sokeio_tinymce=window.tinymce.init({...n??{},...s,promotion:!1,target:e,setup:function(l){l.on("init",function(){l.setContent(e.value),l.undoManager.dispatchChange()}),l.on("input",function(a){c.dataSet(i.$wire,r,l.getContent())}),l.on("ExecCommand",a=>{["mceFocus"].includes(a.command)||c.dataSet(i.$wire,r,l.getContent())})},file_picker_callback:function(l,a,d){window.showFileManager(function(u){l(u[0].url)},{type:"image",value:a})}})}},Ve={checkFirst:()=>window.TomSelect!==void 0,local:{js:["/platform/module/sokeio/tom-select/tom-select.min.js"],css:["/platform/module/sokeio/tom-select/tom-select.css"]},cdn:{js:["https://cdn.jsdelivr.net/npm/tom-select/dist/js/tom-select.complete.min.js"],css:["https://cdn.jsdelivr.net/npm/tom-select/dist/css/tom-select.css"]},init:({el:e,directive:t,component:i,cleanup:o,options:s})=>{if(e.$sokeio_tomselect)return;let r=e.getAttribute("wire:tom-select.remote-action"),n=e.getAttribute("wire:tom-select.base64"),l=e.getAttribute("wire:tom-select.options");l&&(l=JSON.parse(l)??{}),n?(n=JSON.parse(window.atob(n))??{},n={...n,...s}):n={...s},r&&(n={...n,load:function(a,d){i.$wire.callActionUI(r,a).then(function(u){d(u)})}}),l&&(n={...n,options:l}),e.$sokeio_tomselect=new TomSelect(e,n)}},ze={checkFirst:()=>window.Plyr!==void 0,local:{js:["/platform/module/sokeio/plyr/plyr.min.js"],css:["/platform/module/sokeio/plyr/plyr.css"]},cdn:{js:["https://cdn.jsdelivr.net/npm/plyr@latest/dist/plyr.min.js"],css:["https://cdn.jsdelivr.net/npm/plyr@latest/dist/plyr.css"]},init:({el:e,directive:t,component:i,cleanup:o,options:s})=>{e.$sokeio_plyr=new window.Plyr(e,s)}},b={apexcharts:Fe,"get-value":Ne,qrcode:Ue,carousel:Ce,clipboard:Ie,countup:Le,flatpickr:De,masonry:Me,sortable:Ke,"sortable-group":Be,tinymce:Ge,modal:He,"tom-select":Ve,plyr:ze};let M=(e,t,i)=>{if(!e.checkFirst||e.checkFirst()){e.init(t);return}i>50||setTimeout(()=>{M(e,t,i+1)},50)};function We(e){Object.keys(b).forEach(function(t){let i=b[t];e.directive(t,o=>{var r,n,l,a,d,u,h,m,p,E,j,T;if(o.length===0||o.directive.modifiers.length>0||o.el[`$$sokeio_${t.replace(/\./g,"_").replace(/\//g,"_").replace(/-/g,"_")}`])return;let s={};(s=o.el.getAttribute(`wire:${t}.options`))&&(s=new Function(`return ${s};`)()),i.checkFirst&&!i.checkFirst()&&((r=i==null?void 0:i.cdn)!=null&&r.js&&Array.isArray((n=i==null?void 0:i.cdn)==null?void 0:n.js)&&((l=i==null?void 0:i.cdn)==null?void 0:l.js.length)>0?c.addScriptToWindow((a=i==null?void 0:i.cdn)==null?void 0:a.js):(d=i==null?void 0:i.local)!=null&&d.js&&c.addScriptToWindow((u=i==null?void 0:i.local)==null?void 0:u.js),(h=i==null?void 0:i.cdn)!=null&&h.css&&Array.isArray((m=i==null?void 0:i.cdn)==null?void 0:m.css)&&((p=i==null?void 0:i.cdn)==null?void 0:p.css.length)>0?c.addStyleToWindow((E=i==null?void 0:i.cdn)==null?void 0:E.css):(j=i==null?void 0:i.local)!=null&&j.css&&c.addStyleToWindow((T=i==null?void 0:i.local)==null?void 0:T.css)),M(i,{...o,options:s},0)})})}const Je={directive:b,install:We};function Xe(e){setTimeout(()=>{var t,i,o,s;(s=(o=(i=(t=document.querySelector(`[wire\\:id="${e.wireId}"]`))==null?void 0:t.closest("[data-sokeio-id]"))==null?void 0:i._sokeio)==null?void 0:o.delete)==null||s.call(o)})}const Qe={state:{html:"",loading:!0},ready(){},render(){return N("<div style='min-height:100px' so-html='message'></div>1","",this.icon)}};function Ye(e){window.sokeioUI.run(Qe,{props:{...e}})}function Ze(e){setTimeout(()=>{var t;(t=window.Livewire.find(e.wireTargetId))==null||t.soLoadData()})}function et(e){setTimeout(()=>{var t,i;(i=(t=window.Livewire.find(e.wireTargetId))==null?void 0:t.$parent)==null||i.soLoadData()})}const g={sokeio_message:Ye,sokeio_close:Xe,sokeio_refresh:Ze,sokeio_refresh_parent:et};function tt(e){e.type&&g[e.type]&&g[e.type](e.payload)}const it={dispatch:g,install:tt};document.addEventListener("livewire:init",()=>{Je.install(window.Livewire)});document.addEventListener("sokeio::dispatch",e=>{let t=e.detail[0];it.install({type:t.type,payload:{...t.payload,wireId:Pe(e.target)}})});document.addEventListener("alpine:init",()=>{Alpine.data("sokeioField",e=>({get FieldValue(){return c.dataGet(this.$wire,e)},set FieldValue(t){c.dataSet(this.$wire,e,t)}}))});document.addEventListener("alpine:init",()=>{Alpine.data("sokeioTable",()=>({searchExtra:!1,fieldSort:"",typeSort:"",statusCheckAll:!1,get dataSelecteds(){return this.$wire.dataSelecteds??[]},sortField(e){let t=e.getAttribute("data-field");t!=this.fieldSort?(this.fieldSort=t,this.typeSort="asc"):(this.typeSort=this.typeSort==="asc"?"desc":"asc",this.typeSort==="asc"&&(this.fieldSort="",this.typeSort=""));let i=this.$el.getAttribute("data-sokeio-table-order-by");this.$wire.callActionUI(i,{field:this.fieldSort,type:this.typeSort})},tableInit(){this.$watch("$wire.dataSelecteds",()=>{let e=[...this.$el.querySelectorAll(".sokeio-checkbox-one")].map(t=>t.value);this.statusCheckAll=e.length===e.filter(t=>this.$wire.dataSelecteds.includes(t)).length}),Livewire.hook("request",({component:e,commit:t,respond:i,succeed:o,fail:s})=>{o(({snapshot:r,effect:n})=>{setTimeout(()=>{let l=[...this.$el.querySelectorAll(".sokeio-checkbox-one")].map(a=>a.value);this.statusCheckAll=l.length===l.filter(a=>this.$wire.dataSelecteds.includes(a)).length},0)})})},checkboxAll(e){let t=e.target.checked,i=[...this.$el.closest("table").querySelectorAll(".sokeio-checkbox-one")].map(o=>o.value);this.$wire.dataSelecteds===void 0&&(this.$wire.dataSelecteds=[]),t?this.$wire.dataSelecteds=this.$wire.dataSelecteds.concat(i):this.$wire.dataSelecteds=this.$wire.dataSelecteds.filter(o=>!i.includes(o))}}))});document.addEventListener("alpine:init",()=>{Alpine.data("sokeioGlobal",()=>({isAuth:void 0,init(){window.sokeioGlobal=this,this.$watch("$wire.isAuth",e=>{this.sendAuth()}),setTimeout(()=>{this.sendAuth()},100)},sendAuth(){this.$wire.isAuth!=this.isAuth&&(this.isAuth=this.$wire.isAuth,document.dispatchEvent(new CustomEvent("sokeio::auth",{detail:{isAuth:this.$wire.isAuth,authUser:this.$wire.authUser}})))}}))});window.sokeioGlobal=null;document.addEventListener("alpine:init",()=>{Alpine.data("sokeioBody",()=>({isAuth:!1,authUser:null,themeDark:!1,init(){this.$watch("themeDark",e=>{this.$el.setAttribute("data-bs-theme",e?"dark":"light")}),document.removeEventListener("sokeio::auth",this.sendAuth.bind(this)),document.addEventListener("sokeio::auth",this.sendAuth.bind(this))},sendAuth({detail:{isAuth:e,authUser:t}}){this.isAuth=e,this.authUser=t,console.log(t)},toggleTheme(){this.themeDark=!this.themeDark}}))});window.sokeioGlobal=null;
