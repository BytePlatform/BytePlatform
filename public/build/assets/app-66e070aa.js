var U=Object.defineProperty;var K=(e,t,i)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:i}):e[t]=i;var v=(e,t,i)=>(K(e,typeof t!="symbol"?t+"":t,i),i);function G(e){const t=/\[([\w-:]+)((?:\s+\w+\s*=\s*"[^"]*")*)(\](.*?)\[\/\1\]|\s*\/\])/gs;return[...e.matchAll(t)].map(i=>{const[n,s,l,,o]=i;return{component:n,tag:s,attrs:l,content:o}})}const V="############$$$$$$$$############";function z(...e){console.log(...e)}function W(e){const t=(o,r)=>(Object.getOwnPropertyDescriptor(o,r)||{}).get,i=(o,r)=>typeof o[r]=="function",n=o=>o&&o!==Object.prototype&&Object.getOwnPropertyNames(o).filter(r=>t(o,r)||i(o,r)).concat(n(Object.getPrototypeOf(o))||[]),s=o=>Array.from(new Set(n(o)));return(o=>s(o).filter(r=>r!=="constructor"&&!~r.indexOf("__")))(e)}function J(e){let t={};return Reflect.ownKeys(e).forEach(i=>{Object.defineProperty(t,i,{get(){return e[i]},set(n){e[i]=n},enumerable:!0,configurable:!0})}),t}function X(e,t,i){return new Function("$event","$obj",`with($obj) {  ${e}}`).apply(i,[t,J(i)])}function Q(e,t,i){if(!t||!e)return;let n=t.split(".");if(n.length===1)return e[t]=i,e[t];let s=n.shift(),l=n.join(".");s&&(e[s]===void 0&&(e[s]={}),this.dataSet(e[s],l,i))}function Y(e,t){return t===""||!t?e:t.split(".").reduce((i,n)=>{if(i!==void 0)return i[n]},e)}function Z(e){const t=document.createElement("template");return t.innerHTML=e,t.content.firstChild}let ee=function(e){if(!e)return;Array.isArray(e)||(e=[e]);const t=document.getElementsByTagName("script")[0];e.forEach(i=>{let n=document.createElement("script");n.src=i,t.parentNode.insertBefore(n,t)})},te=function(e){if(!e)return;Array.isArray(e)||(e=[e]);const t=document.getElementsByTagName("link")[0];e.forEach(i=>{let n=document.createElement("link");n.rel="stylesheet",n.href=i,t.parentNode.insertBefore(n,t)})};const h=(...e)=>{window.SOKEIO_DEBUG&&console.log(...e)};function ie(){let e=u.convertHtmlToElement('<div class="so-modal-overlay"></div>'),t=document.body.querySelector(".so-modal-overlay");return t?t.parentNode.insertBefore(e,t):document.body.appendChild(e),e}function b(e,t){let i=t;return t.split(".").forEach(n=>{if(n.startsWith("$")){if(e[n]===void 0||e[n]===null)return;e=e[n]}else i=n}),[i,e]}const u={getComponentsFromText:G,LOG:z,tagSplit:V,runFunction:X,getMethods:W,dataSet:Q,dataGet:Y,convertHtmlToElement:Z,addScriptToWindow:ee,addStyleToWindow:te};window.shortcodePattern=/\[([\w-:]+)((?:\s+\w+\s*=\s*"[^"]*")*)(\](.*?)\[\/\1\]|\s*\/\])/s;function se(e){let t=e.toLowerCase();return t=t.replace("dd","99"),t=t.replace("d","99"),t=t.replace("mm","99"),t=t.replace("m","99"),t=t.replace("yyyy","9999"),t=t.replace("yy","9999"),t=t.replace("y","9999"),t}function oe(e){let t=e.toLowerCase();return t=t.replace("hh","99"),t=t.replace("h","99"),t=t.replace("ii","99"),t=t.replace("i","99"),t=t.replace("ss","99"),t=t.replace("s","99"),t}function re(e){return oe(se(e))}function q(e){return e.getAttribute("wire:id")?e.getAttribute("wire:id"):e.closest("[wire\\:id]")?e.closest("[wire\\:id]").getAttribute("wire:id"):null}function ne({component:e,el:t,name:i,method:n,value:s}){if(s){let[l,o]=b(e,s);o.watch(l,()=>{t.innerHTML=o[l]}),t.innerHTML=o[l]}}function le({component:e,el:t,name:i,method:n,value:s}){if(s){let[l,o]=b(e,s);o.watch(l,()=>{t.value=o[l]}),t.value=o[l],t.addEventListener("input",r=>{o[l]=r.target.value})}}function ae({component:e,el:t,name:i,method:n,value:s}){s&&(t["__SOKEIO_ON__"+n]&&t.removeEventListener(n,t["__SOKEIO_ON__"+n]),t["__SOKEIO_ON__"+n]=l=>{(ignore=t.getAttribute("so-on:ignore"))&&l.target.closest(ignore)||u.runFunction(s,l,e)},t.addEventListener(n,t["__SOKEIO_ON__"+n]))}function de({component:e,el:t,name:i,method:n,value:s}){if(s){let[l,o]=b(e,s);o.watch(l,()=>{t.innerText=o[l]}),t.innerText=o[l]}}const T={html:ne,model:le,text:de,on:ae},C="so-",x=(e,t)=>{[...e.attributes].forEach(i=>{if(i.name.startsWith(C)){let n=i.name.split(":"),s=n[0].replace(C,""),l=n[1],o="";l&&(l=l.split("."),l.length>1&&(o=l[1],l=l[0])),T[s]?T[s]({component:t,el:e,name:s,method:l,method2:o,value:i.value}):console.error("feature not found: "+s)}})};function ce(e){setTimeout(()=>{e.$el&&(e.$el.querySelectorAll("*").forEach(t=>{t.closest("[data-sokeio-id]").getAttribute("data-sokeio-id")!=e.getId()||t.hasAttribute("data-sokeio-id")&&t.getAttribute("data-sokeio-id")!=e.getId()||x(t,e)}),x(e.$el,e))})}function L(){return document.querySelector('meta[name="csrf_token"]')?document.querySelector('meta[name="csrf_token"]').getAttribute("value"):document.querySelector('meta[name="csrf-token"]')?document.querySelector('meta[name="csrf-token"]').getAttribute("value"):document.querySelector('input[name="_token"]')?document.querySelector('input[name="_token"]').getAttribute("value"):""}function ue(e,t=void 0,i={},n="GET"){let s=L();return h("fetch::content",s),fetch(e,{headers:{Accept:"application/json","Content-Type":"application/json","X-CSRF-TOKEN":s,"X-SOKEIO":"v1.0.0","x-powered-by":"Sokeio Framework","X-Requested-With":"XMLHttpRequest"},...i,method:n,body:JSON.stringify(t)})}const he={convertJsonToFormData(e){let t=new FormData;for(let i in e)typeof e[i]=="object"?JSON.stringify(e[i])!=="{}"&&t.append(i,JSON.stringify(e[i])):t.append(i,e[i]);return t},fetch(e,t=void 0,i={},n="GET"){return ue(e,t,i,n)},get(e,t=void 0,i={}){return this.fetch(e,t,i,"GET")},post(e,t={},i={}){return this.fetch(e,t,i,"POST")},put(e,t={},i={}){return this.fetch(e,t,i,"PUT")},delete(e,t={},i={}){return this.fetch(e,t,i,"DELETE")},patch(e,t={},i={}){return this.fetch(e,t,i,"PATCH")},upload(e,t,i={}){let n=i.headers||{},s=i.progress||!1;return new Promise((l,o)=>{const r=new XMLHttpRequest;r.withCredentials=!0,r.open("POST",e),Object.entries(n).forEach(([a,c])=>{r.setRequestHeader(a,c)}),r.setRequestHeader("Accept","application/json"),r.setRequestHeader("X-Requested-With","XMLHttpRequest"),r.responseType="application/json",r.setRequestHeader("X-SOKEIO",""),r.setRequestHeader("X-CSRF-TOKEN",L()),r.upload.addEventListener("progress",a=>{s&&s({progress:Math.floor(a.loaded*100/a.total),loaded:a.loaded,total:a.total})}),r.onload=()=>{r.status===200?l(r.response):o(r.response)},r.onerror=()=>{o(r.response)},r.send(t)})}};class O{constructor(t=void 0){v(this,"listeners",{});v(this,"removeListeners",[]);v(this,"data",{});this.data=t??{}}getValue(t){return this.data[t]}setValue(t,i){const n=this.data[t];setTimeout(()=>{this.changeProperty(t,i,n)},1),this.data[t]=i}watch(t,i){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(i)}changeProperty(t,i,n){this.listeners[t]&&this.listeners[t].forEach(s=>s(i,n))}cleanup(){this.removeListeners.forEach(t=>t()),this.removeListeners=[],this.listeners={}}check(t){return this.data[t]!==void 0}getKeys(){return Object.keys(this.data)}}const R=he;let fe=new Date().getTime(),g={},me=(e,t,i)=>!e.startsWith("_")&&i.indexOf(e)===t;function pe(e,t){g[e]=t}function ve(e,t,i=null){var n,s,l;return!g[e]&&!(i!=null&&i.components[e])&&!((n=i==null?void 0:i.$root)!=null&&n.components[e])?(console.error("Component not found: "+e),null):i!=null&&i.components[e]?w(i==null?void 0:i.components[e],t,i):(s=i==null?void 0:i.$root)!=null&&s.components[e]?w((l=i==null?void 0:i.$root)==null?void 0:l.components[e],t,i):w(g[e],t,i)}function we(e){let t=e.$el.innerHTML,n=u.getComponentsFromText(t).map(s=>{t=t.split(s.component).join(u.tagSplit);let l=ve(s.tag,s.attrs,e);return l&&I(l),l});if(n.length){let s="";t.split(u.tagSplit).forEach((l,o)=>{s+=l,n[o]&&(s+='<span id="sokeio-component-'+n[o].getId()+'">'+n[o].getId()+"</span>")}),t=s,e.$children=n}return e.$el.innerHTML=t,e}function I(e){h("doRegister",e),e.register&&e.register()}function $(e){h("doBoot",e),e.boot&&e.boot();let t=e.render?e.render():"<div></div>";t=t.trim(),e.$el?e.$el.innerHTML=t:e.$el=u.convertHtmlToElement(t),ce(e),we(e),e.$children&&e.$children.forEach(i=>{$(i)})}function _(e){h("doRender",e),e.$children&&e.$children.forEach(t=>{let i=e.$el.querySelector("#sokeio-component-"+t.getId());i.parentNode.insertBefore(t.$el,i),i.remove(),_(t)}),e.$el&&(e.$el.setAttribute("data-sokeio-id",e.getId()),e.$el.__sokeio=e)}function A(e){h("doReady",e),e.$children&&e.$children.forEach(t=>{A(t)}),e.ready&&e.ready(),e.$hookReady&&e.$hookReady.forEach(t=>{t.bind(e)()})}function S(e){var t;h("doDestroy",e),e.$children&&e.$children.forEach(i=>{S(i)}),e.destroy&&e.destroy(),e.$hookDestroy&&e.$hookDestroy.forEach(i=>{i.bind(e)()}),(t=e.$el)==null||t.remove(),e.$hookDestroy=[],e.$hookReady=[],e.$children=[],e.$el=null,e.state={},e=void 0}function w(e,t,i=null){e.state||(e.state={});let n={};try{n={...e.state}}catch(o){console.error(o)}let s={...e,$initState:{...n},$parent:i,$children:[],$id:0,$el:null,$hookDestroy:[],$hookReady:[],$root:i&&i.$root,$wire:i?i.$wire:t==null?void 0:t.$wire},l=Object.keys(s).concat(Object.keys(n)).concat(Object.keys(t)).concat(u.getMethods(s)).filter(me).concat(["getId","watch","cleanup","show","boot","ready","delete","closeApp","destroy","onReady","reRender","querySelectorAll","on","$request","$root","__data__","__props__"]).filter(function(o,r,a){return a.indexOf(o)===r});return Object.defineProperty(s,"$request",{value:R}),Object.defineProperty(s,"getId",{value:function(){return this.$id||(this.$id=++fe),this.$id}}),Object.defineProperty(s,"__data__",{value:new O({...s.$initState})}),Object.defineProperty(s,"__props__",{value:new O({...t})}),s.sokeAppSelector&&Object.defineProperty(s,"show",{value:function(){if(this.$el){if(this.overlay){document.querySelector(".so-modal-overlay")||(document.body.classList.add("so-modal-open"),document.body.style.overflow="hidden");let o=ie();document.body.appendChild(o),this.cleanup(()=>{document.body.removeChild(o),document.querySelector(".so-modal-overlay")||(document.body.classList.remove("so-modal-open"),document.body.style.overflow="auto")})}s.sokeAppSelector.appendChild(this.$el)}}}),Object.defineProperty(s,"querySelectorAll",{value:function(o,r){this.onReady(function(){if(this.$el){let a=[...this.$el.querySelectorAll(o)];return r&&r.bind(this)(a),a}})}}),Object.defineProperty(s,"on",{value:function(o,r,a){this.querySelectorAll(o,c=>{c.forEach(d=>{h(r,d,a),d.addEventListener(r,a),this.$hookDestroy.push(()=>{d.removeEventListener(r,a)})})})}}),Object.defineProperty(s,"watch",{value:function(o,r){return this.__data__.check(o)&&this.__data__.watch(o,r.bind(this)),this.__props__.check(o)&&this.__props__.watch(o,r.bind(this)),this}}),Object.defineProperty(s,"delete",{value:function(){S(this)}}),Object.defineProperty(s,"closeApp",{value:function(){console.log("closeApp"),this.$root.delete()}}),Object.defineProperty(s,"cleanup",{value:function(o){return o&&this.$hookDestroy.push(o),this}}),Object.defineProperty(s,"onReady",{value:function(o){return o&&this.$hookReady.push(o),this}}),Object.defineProperty(s,"reRender",{value:function(){let o=this.$el.parentNode,r=this.$el.nextSibling;return this.$el.remove(),this.$el=null,h("reRender",this),$(this),_(this),A(this),r?o.insertBefore(this.$el,r):o.appendChild(this.$el),this}}),new Proxy(s,{ownKeys:()=>l,set:(o,r,a)=>o.__data__.check(r)?(o.__data__.setValue(r,a),!0):o.__props__.check(r)?(o.__props__.setValue(r,a),!0):o[r]!==void 0?(o[r]=a,!0):!1,get:(o,r)=>(console.log(r),o.__data__.check(r)?o.__data__.getValue(r):o.__props__.check(r)?o.__props__.getValue(r):(o[r]!==void 0,o[r]))})}const ge=R;function ke(e){document.addEventListener("sokeio::register",e)}function ye(e){document.addEventListener("sokeio::boot",e)}function be(e){document.addEventListener("sokeio::ready",e)}function $e(e){document.addEventListener("sokeio::destroy",e)}function M(e){I(e),document.dispatchEvent(new CustomEvent("sokeio::register",{detail:{registerComponent:pe,component:e}}))}function N(e){$(e),document.dispatchEvent(new CustomEvent("sokeio::boot",{detail:{component:e}}))}function P(e){_(e),document.dispatchEvent(new CustomEvent("sokeio::render",{detail:{component:e}}))}function D(e){A(e),document.dispatchEvent(new CustomEvent("sokeio::ready",{detail:{component:e}}))}function _e(e){S(e),document.dispatchEvent(new CustomEvent("sokeio::destroy",{detail:{component:e}}))}function Ae(e={},t={}){var o;let i=t.selector;i||(i=document.body),typeof i=="string"&&(i=document.querySelector(i));let n={...e,sokeAppSelector:i,state:JSON.parse(JSON.stringify(e.state??{}))};t.components&&(typeof t.components=="string"&&(t.components=JSON.parse(t.components)),n.components=n.components??{},n.components={...n.components,...t.components}),h("templateCopy",n),t.init===void 0||t.init,document.dispatchEvent(new CustomEvent("sokeio::run"));let s=q(i);(o=t==null?void 0:t.props)!=null&&o.wireId&&(s=t.props.wireId),s&&(t.props={...t.props,wireId:s,$wire:window.Livewire.find(s)});let l=new w(n,t.props??{});return l.$root=l,M(l),h("run",l),N(l),P(l),D(l),l.hide||l.show(),l}const Se=Object.freeze(Object.defineProperty({__proto__:null,$request:ge,boot:N,destroy:_e,onBoot:ye,onDestroy:$e,onReady:be,onRegister:ke,ready:D,register:M,render:P,run:Ae},Symbol.toStringTag,{value:"Module"}));window.sokeioUI=Se;const Fe={state:{html:"",loading:!0},ready(){this.timeout>2e4&&(this.timeout=7e3),setTimeout(()=>{this.closeApp()},this.timeout??5e3)},render(){let e="";return this.messageType,`
      <div class="alert ${e} so-alert" role="alert">
          <div>
            <h4 class="alert-title" so-text="title"></h4>
            <div class="alert-message"  so-text="message"></div>
          </div>
        </div>
      </div
      `}},Ee=e=>{document.querySelector(".so-position-manager")||je(),setTimeout(()=>{var n,s;let t=e.position??"top-right",i=document.querySelector(`.so-position-manager .so-position-${t}`);i||(i=document.querySelector(".so-position-manager .so-position-bottom-right")),i.children.length>9&&((s=(n=i.children[0].__sokeio)==null?void 0:n.delete)==null||s.call(n)),window.sokeioUI.run(Fe,{props:{...e},selector:i})})};window.sokeioMessage=Ee;let je=()=>{let e=`
    <div class="so-position-manager">
        <div class="so-position so-position-top-left"></div>
        <div class="so-position so-position-top-center"></div>
        <div class="so-position so-position-top-right"></div>
        <div class="so-position so-position-middle-left"></div>
        <div class="so-position so-position-center-center"></div>
        <div class="so-position so-position-middle-right"></div>
        <div class="so-position so-position-bottom-left"></div>
        <div class="so-position so-position-bottom-center"></div>
        <div class="so-position so-position-bottom-right"></div>
    </div>
    `;document.body.insertAdjacentHTML("beforeend",e)};const Te={diskRender(){let e=' <select so-model="$parent.disk" class="form-select mt-1 p-2">';return Object.keys(this.$parent.disks).forEach(t=>{e+=`<option value="${t}" ${this.$parent.disk==t?"selected":""}>${t}</option>`}),e+="</select>",`<div class="row justify-content-center align-items-center"><div class="col-auto ps-4 fw-bold">Disk:</div><div class="col">${e}</div></div>`},checkItemActive(e){return e.path==this.$parent.path},ready(){setTimeout(()=>{this.$el.querySelector(".so-fm-folder-wrapper").scrollTop=this.$parent.boxFolderScrollTop})},openFolder(e){this.$parent.boxFolderScrollTop=this.$el.querySelector(".so-fm-folder-wrapper").scrollTop,this.$parent.openFolder(e),this.reRender()},itemRender(e){var i;let t=`<li > <div so-on:click="openFolder('${e.path}')" class="so-fm-folder-item ${this.checkItemActive(e)?"active":""}" style="padding-left:${e.level*7+5}px">${e.name}</div>`;return e!=null&&e.children&&((i=e==null?void 0:e.children)==null?void 0:i.length)>0&&(t+=this.treeRender(e.children)),`${t}</li>`},treeRender(e){let t="";return Array.isArray(e)?e.forEach(i=>{t+=this.itemRender(i)}):t+=this.itemRender(e),`<ul class="so-fm-folder-list">${t}</ul>`},render(){return`<div class="so-fm-folder-box-wrapper">${this.diskRender()} <div class="so-fm-folder-wrapper"> ${this.treeRender(this.$parent.folders)}
    </div></div>`}},Ce={render(){return`
        <div class="so-fm-header">
            <div class="so-fm-header-title">
                <a href="https://sokeio.com" class="logo-large" target="_blank">
                    Sokeio FM V1.0
                </a>
                <a href="https://sokeio.com" class="logo-small" target="_blank">
                    SFM1.0
                </a>
            </div>
            <div class="so-fm-header-control">
                <div class="so-fm-header-control-item" so-on:click="$parent.createFolder()">
                    <div class="so-fm-header-control-item-icon">
                        <i class="ti ti-folder-plus"></i>
                    </div>
                    <div class="so-fm-header-control-item-text">New Folder</div>
                </div>
                <div class="so-fm-header-control-item" so-on:click="$parent.uploadFile()">
                    <div class="so-fm-header-control-item-icon">
                        <i class="ti ti-upload"></i>
                    </div>
                    <div class="so-fm-header-control-item-text">Upload File</div>
                </div>
               
                <div class="so-fm-header-control-item" so-on:click="$parent.refreshSelected()">
                    <div class="so-fm-header-control-item-icon">
                        <i class="ti ti-refresh"></i>
                    </div>
                    <div class="so-fm-header-control-item-text">Refresh</div>
                </div>
            </div>
        </div>
        `}},xe={render(){return`
                <div class="so-fm-footer">
                        <div>Path:<span so-text="$parent.path" class="ps-1 fw-bold"></span></div>
                        <div class="flex-0">Selected File:<span so-text="$parent.selectedCount" class="ps-1 fw-bold"></span></div>
                        <div class="">File:<span so-text="$parent.fileCount" class="ps-1 fw-bold"></span></div>
                </div>
        `}},Oe={state:{title:"abc",name:"abc",current:"",path:"",isHide:!0},register(){this.$parent.$modalNewFolder=this},cancel(){this.isHide=!0,this.reRender()},open(e,t,i){this.name=e,this.title=t,this.current=i,this.isHide=!1,this.reRender()},ok(){this.name&&(this.isHide=!0,this.reRender(),this.$parent.fmAction("create-folder",{name:this.name,current:this.current}))},render(){return this.isHide?"<div style='display:none'></div>":`
                  <div class="so-fm-modal">
                      <div class="so-fm-modal-dialog">
                          <div class="so-fm-modal-content">
                              <div class="so-fm-modal-header">
                                  <h3 ><i class="ti ti-folder-plus fs-2"></i> <span class="fw-bold" so-text="title"></span></h3>
                              </div>
                              <div class="so-fm-modal-body px-2">
                                  <input type="text" so-model="name" placeholder="Enter folder name"  class="form-control">
                              </div>
                              <div class="so-fm-modal-footer pt-2">
                                  <button class="btn btn-danger" so-on:click="cancel()">Cancel</button>
                                  <button class="btn btn-primary" so-on:click="ok()">OK</button>
                              </div>
                          </div>
                      </div>
                  </div>
          `}},qe={state:{title:"abc",name:"abc",current:"",isHide:!0,files:[]},register(){this.$parent.$modalUpload=this},cancel(){this.isHide=!0,this.files=[],this.reRender()},ok(){this.$parent.fmAction("upload",{},this.files,(function(e){e.progress==100&&this.cancel()}).bind(this))},ready(){setTimeout(()=>{var e;(e=this.$el.querySelector('input[type="file"]'))==null||e.addEventListener("change",t=>{for(const i of t.target.files)this.files.push(i);this.reRender()})})},open(e,t,i){this.name=e,this.title=t,this.current=i,this.files=[],this.isHide=!1,this.reRender()},chooseFile(){this.$el.querySelector('input[type="file"]').click()},fileSize(e){return e<1024?e+"B":e<1024*1024?(e/1024).toFixed(2)+"KB":e<1024*1024*1024?(e/1024/1024).toFixed(2)+"MB":(e/1024/1024/1024).toFixed(2)+"GB"},removeFile(e){this.files.splice(e,1),this.reRender()},removeAll(){this.files=null,this.reRender()},fileListRender(){if(!this.files||this.files.length==0)return"";let e=`<div class="so-fm-modal-file-list-title">Files (${this.files.length}) <span so-on:click="removeAll()">Remove all</span></div>`;e+='<div class="so-fm-modal-file-list">',console.log(this.files);for(let t=0;t<this.files.length;t++){const i=this.files[t];e+=`<div class="so-fm-modal-upload-file-item" style="text-align:left">
                  <span class="so-fm-modal-file-name">${i.name}</span>
                  <span class="so-fm-modal-file-size">${this.fileSize(i.size)}</span> 
                  <span class="so-fm-modal-file-remove" so-on:click="removeFile(${t})">x</span>
              </div>`}return e+="</div>",e},render(){return this.isHide?"<div style='display:none'></div>":`
                  <div class="so-fm-modal">
                      <div class="so-fm-modal-dialog">
                          <div class="so-fm-modal-content">
                              <div class="so-fm-modal-header">
                                  <h3 so-text="title">Upload</h3>
                              </div>
                              <div class="so-fm-modal-body px-4">
                                <input type="file" style="display:none" multiple/>
                                <div class="so-dropzone" so-on:click="chooseFile()">
                                  <span>Upload file</span>
                                </div>
                                
                                  ${this.fileListRender()}
                                
                              </div>
                              <div class="so-fm-modal-footer pt-1">
                                  <button class="btn btn-danger" so-on:click="cancel()">Cancel</button>
                                  <button class="btn btn-primary" so-on:click="ok()">OK</button>
                              </div>
                          </div>
                      </div>
                  </div>
          `}},Le={itemRender(e){return`
           <div class="so-fm-item-box ${this.$parent.checkItemActive(e.path)?"active":""}" so-on:click='chooseFile("${e.path}")'>
            <div class="so-fm-item-box-preview">
                  <img src="${e.preview_url}" alt="${e.name}"/>
              </div>
              <div class="so-fm-item-box-name">
                  ${e.name}
              </div>
           </div>
          `},bodyGridRender(){let e="";return this.$parent.files.forEach(t=>{e+=this.itemRender(t)}),e},chooseFile(e,t=!1){this.$parent.chooseFile(e,t),this.reRender()},render(){return`
            <div class="so-fm-body-grid">
                ${this.bodyGridRender()}
            </div>
          `}},Re={state:{isShow:!1},boot(){this.$parent.$loading=this},showLoading(){this.isShow=!0},hideLoading(){this.isShow=!1},render(){return this.isShow?`
                  <div class="so-fm-loading">
                         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 200"><circle fill="#253447" stroke="#253447" stroke-width="15" r="15" cx="40" cy="65"><animate attributeName="cy" calcMode="spline" dur="2" values="65;135;65;" keySplines=".5 0 .5 1;.5 0 .5 1" repeatCount="indefinite" begin="-.4"></animate></circle><circle fill="#253447" stroke="#253447" stroke-width="15" r="15" cx="100" cy="65"><animate attributeName="cy" calcMode="spline" dur="2" values="65;135;65;" keySplines=".5 0 .5 1;.5 0 .5 1" repeatCount="indefinite" begin="-.2"></animate></circle><circle fill="#253447" stroke="#253447" stroke-width="15" r="15" cx="160" cy="65"><animate attributeName="cy" calcMode="spline" dur="2" values="65;135;65;" keySplines=".5 0 .5 1;.5 0 .5 1" repeatCount="indefinite" begin="0"></animate></circle></svg>
                  </div>
          `:"<div style='display:none'></div>"}},H={components:{"so-fm::header":Ce,"so-fm::folder-box":Te,"so-fm::grid-file":Le,"so-fm::footer":xe,"so-fm::new-folder":Oe,"so-fm::upload":qe,"so-fm::loading":Re},state:{path:"/",selected:[],selectedCount:0,files:[],folders:[],fileCount:0,disks:[],disk:"public",boxFolderScrollTop:0,$modalNewFolder:null,$modalUpload:null,$loading:null},register(){this.path="/",this.disk="public",this.selected=[],this.refreshSelected(),this.watch("disk",function(e,t){e!=t&&(this.path="/",this.refreshSelected())})},boot(){this.cleanup(function(){})},chooseFile(e){this.$root.multiple||(this.selected=[]),this.selected.includes(e)?this.selected=this.selected.filter(t=>t!=e):this.selected.push(e),this.selectedCount=this.selected.length,this.$el.querySelector(".so-fm-footer-action button").disabled=this.selectedCount==0},checkItemActive(e){return this.selected.includes(e)},fmAction(e,t={},i=[],n=null){var l;(l=this.$loading)==null||l.showLoading();let s=null;if(i.length>0){let o=this.$request.convertJsonToFormData({action:e,disk:this.disk,path:this.path});for(let r in i)o.append("files[]",i[r]);s=this.$request.upload("/platform/file-manager",o,{progress:n}).then(r=>JSON.parse(r))}else s=this.$request.post("/platform/file-manager",{action:e,payload:t,disk:this.disk,path:this.path}).then(o=>o.json());s.then(o=>{var r,a;this.files=o.files??this.files,this.folders=o.folders??this.folders,this.disks=o.disks??this.disks,this.disk=o.disk??this.disk,this.path=o.path??this.path,this.fileCount=((r=this.files)==null?void 0:r.length)??0,this.path==""&&(this.path="/"),(a=this.$loading)==null||a.hideLoading(),this.reRender()})},createFolder(){this.$modalNewFolder.open("","New Folder","")},uploadFile(){this.$modalUpload.open("Upload","Upload",this.path)},deleteSelected(){alert("delete selected")},renameSelected(){this.$modalNewFolder.open("New Folder","New Folder",this.path)},refreshSelected(){this.fmAction("list")},openFolder(e){this.path=e,this.selected=[],this.reRender(),this.fmAction("list")},footerRender(){if(!this.$root.fnCallback)return"";let e='<div class="so-fm-footer-action">';return e+=`<button so-on:click="chooseFileAction()" ${this.selected.length==0?"disabled":""} class="btn btn-primary"><svg  xmlns="http://www.w3.org/2000/svg"  width="24"  height="24"  viewBox="0 0 24 24"  fill="none"  stroke="currentColor"  stroke-width="2"  stroke-linecap="round"  stroke-linejoin="round"  class="icon icon-tabler icons-tabler-outline icon-tabler-file-check"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 0 0 1 1h4" /><path d="M17 21h-10a2 2 0 0 1 -2 -2v-14a2 2 0 0 1 2 -2h7l5 5v11a2 2 0 0 1 -2 2z" /><path d="M9 15l2 2l4 -4" /></svg> Choose File</button>`,e+="</div>",e},chooseFileAction(){if(this.selected.length==0)return;let e=[];this.selected.forEach(t=>{this.files.filter(i=>i.path==t).forEach(i=>e.push(i))}),this.$root.fnCallback(this.$root.multiple?e:e[0],this.path),this.$root.delete()},render(){return` <div class="so-fm-wrapper">
          [so-fm::header /]
          <div class="so-fm-body">
              <div class="so-fm-folder-box">
              [so-fm::folder-box /]
              </div>
              <div class="so-fm-body-list">
                  [so-fm::loading /]
                  [so-fm::grid-file /]
              </div>
          </div>
          [so-fm::footer /]
          ${this.footerRender()}
          [so-fm::new-folder /]
          [so-fm::upload /]
        </div>`}};window.showFileManager=function(e,t="file",i=!1){window.showModal("File Manager",{type:t,fnCallback:e,template:H,modalSize:"xxl",skipOverlayClose:!0,multiple:i})};function Ie(e="",t="",i="",n="",s=""){var d,f,m;n.indexOf("<")===-1&&(n=`<i class="${n}"></i>`),n=n.replace('class="','class="so-modal-icon '),i===void 0&&(i=` <div class="so-modal-header">${n}
                            <h3 class="so-modal-title" so-text="title"></h3>
                        </div>`),$content=i,!t&&!$content?$content=e:$content=`${$conten}<div class="so-modal-body">${e}</div> ${t?`<div class="so-modal-footer">${t}</div>`:""}`;let l='<a class="so-modal-close" so-on:click="this.closeApp()"></a>',o='so-on:click="this.closeApp()" so-on:ignore=".so-modal-dialog"',r=u.convertHtmlToElement(e),a=(s==null?void 0:s.skipOverlayClose)??!1,c=(s==null?void 0:s.modalSize)??"lg";return r&&r.getAttribute&&r.querySelector&&(((d=r.querySelector)!=null&&d.call(r,".hide-show-button-close")||r.getAttribute("data-hide-button-close"))&&(l=""),c=r.getAttribute("data-modal-size"),!c&&((f=r.querySelector)!=null&&f.call(r,"[data-modal-size]"))&&(c=r.querySelector("[data-modal-size]").getAttribute("data-modal-size")),a=r.getAttribute("data-skip-overlay-close"),!a&&((m=r.querySelector)!=null&&m.call(r,"[data-skip-overlay-close]"))&&(a=r.querySelector("[data-skip-overlay-close]").getAttribute("data-skip-overlay-close"))),a&&(o=""),c||(c="lg"),`<div class="so-modal so-modal-size-${c}" tabindex="-1" aria-modal="true" ${o} >
                <div class="so-modal-dialog">
                    <div class="so-modal-content card">
                        ${$content}
                    </div>
                    ${l}
                </div>
            </div>`}const Me={state:{html:"",loading:!0},boot(){var t;if(h("modal.components",this.components),this.htmlComponent&&(h("modal.htmlComponent",this.htmlComponent),this.loading=!1,this.html=this.htmlComponent),this.html)return;let e="";this.elTarget&&(this.elTarget.hasAttribute("wire:id")?e=this.elTarget.getAttribute("wire:id"):e=(t=this.elTarget.closest("[wire\\:id]"))==null?void 0:t.getAttribute("wire:id")),this.url&&(this.url.includes("?")?this.url=this.url+"&refId="+e+"&_time="+new Date().getTime():this.url=this.url+"?refId="+e+"&_time="+new Date().getTime(),h("modal.url",this.url),this.$request.get(this.url).then(async i=>{i.ok?this.html=await i.text():this.html=`<div class="so-modal-content-error"><h3>${i.statusText}</h3><button class="btn btn-primary" so-on:click="this.closeApp()">Close</button></div>`,this.loading=!1,this.reRender()}))},ready(){},render(){return h("modal.render",this.html),this.skipLoading&&this.loading?"<template></template>":Ie(this.html||'<div class="so-modal-loader" data-hide-close="true"><span class="loader"></span></div>',"","",this.icon,this)}};window.showModal=function(e="",t={url:void 0,template:void 0,templateId:void 0,elTarget:void 0,data:{},callback:()=>{},hide:!1,overlay:!0}){if(t.templateId&&(t.template=document.getElementById(t.templateId).innerHTML.replace("export default","return "),delete t.templateId),t.template){let i=t.template;typeof i=="string"&&(i=new Function(i)()),t={...t,components:{"sokeio::modal::template":i},htmlComponent:"[sokeio::modal::template][/sokeio::modal::template]"},delete t.template}return window.sokeioUI.run(Me,{props:{title:e,overlay:!0,...t}})};const Ne={checkFirst:()=>window.ApexCharts!==void 0,local:{js:["/platform/module/sokeio/apexcharts/dist/apexcharts.min.js"],css:["/platform/module/sokeio/apexcharts/dist/apexcharts.css"]},cdn:{js:["https://cdn.jsdelivr.net/npm/apexcharts@latest/dist/apexcharts.min.js"],css:["https://cdn.jsdelivr.net/npm/apexcharts@latest/dist/apexcharts.css"]},init:({el:e,directive:t,component:i,cleanup:n})=>{}},Pe={checkFirst:()=>window.bootstrap.Carousel!==void 0,local:{js:[],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n,options:s})=>{e.$sokeio_carousel=window.bootstrap.Carousel.getOrCreateInstance(e,s)}},De={checkFirst:()=>window.Clipboard!==void 0,local:{js:["/platform/module/sokeio/clipboard/dist/clipboard.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n,options:s})=>{e.$sokeio_clipboard=new window.Clipboard(e,s)}},He={checkFirst:()=>window.CountUp!==void 0,local:{js:["/platform/module/sokeio/count-up/dist/count-up.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n,options:s})=>{let l=e.getAttribute("wire:countup");(!l||l=="")&&(l=u.dataGet(i.$wire,e.getAttribute("wire:countup.model"))),e.$sokeio_countup=new window.CountUp(e,l,s),e.$sokeio_countup.error?console.error(e.$sokeio_countup.error):e.$sokeio_countup.start()}},Be={checkFirst:()=>window.flatpickr!==void 0,local:{js:["/platform/module/sokeio/flatpickr/dist/flatpickr.min.js"],css:["/platform/module/sokeio/flatpickr/dist/flatpickr.min.css"]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n,options:s})=>{let l=e.getAttribute("wire:model"),o=(s==null?void 0:s.dateFormat)??(s!=null&&s.enableTime?"Y/m/d H:i:S":"Y/m/d"),r=re(o);e.$sokeio_flatpickr=new window.flatpickr(e,{allowInput:!0,allowInvalidPreload:!0,dateFormat:o,...s,onChange:(a,c,d)=>{u.dataSet(i.$wire,l,a)}}),setTimeout(async()=>{Alpine.$data(e).maskFormat=r},10)}},Ue={checkFirst:()=>!0,init:({el:e,directive:t,component:i,cleanup:n})=>{let s=e.getAttribute("wire:model"),l=e.getAttribute("wire:get-value"),o=e.getAttribute("wire:get-value-parent")??i.$wire.soRefId;if(!o)return;let r=window.Livewire.find(o);if(!r)return;let a=u.dataGet(r,l);u.dataSet(i.$wire,s,a)}},Ke={checkFirst:()=>window.Masonry!==void 0,local:{js:["/platform/module/sokeio/masonry/dist/masonry.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n,options:s})=>{e.$sokeio_masonry=new Masonry(e,s);let l=()=>{e.$sokeio_masonry_timer&&(e.$sokeio_masonry.layout(),clearTimeout(e.$sokeio_masonry_timer),e.$sokeio_masonry_timer=null),e.$sokeio_masonry_timer=setTimeout(()=>{e.$sokeio_masonry.layout(),e.$sokeio_masonry_timer=null},100)};window.addEventListener("resize",l),n(()=>{window.removeEventListener("resize",l)})}},Ge={checkFirst:()=>!0,local:{js:[],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n})=>{let s={icon:'<i class="ti ti-alarm"></i>',templateId:"",template:"",url:"",elTarget:e,hide:!0},l=e.getAttribute("wire:modal.title");e.hasAttribute("wire:modal.url")&&(s.url=e.getAttribute("wire:modal.url")),e.hasAttribute("wire:modal.size")&&(s.size=e.getAttribute("wire:modal.size")),e.hasAttribute("wire:modal.icon")&&(s.icon=e.getAttribute("wire:modal.icon")),e.hasAttribute("wire:modal.template-id")&&(s.templateId=e.getAttribute("wire:modal.template-id")),e.hasAttribute("wire:modal.template")&&(s.template=e.getAttribute("wire:modal.template"));let o=!1,r=!1,a=function(){return window.showModal(l,s).cleanup(()=>{d=void 0,e.modalInstance=void 0,r=!1})},c=function(){r=!0,o=!1,e.modalInstance||(e.modalInstance=a()),e.modalInstance.show()},d,f,m=function(){f&&(clearTimeout(f),f=void 0),!o&&(o=!0,!d&&(d=setTimeout(()=>{e.modalInstance=a()},40)))},p=function(){f=setTimeout(()=>{f=void 0,o=!1,d&&(clearTimeout(d),d=void 0,e.modalInstance&&!r&&(e.modalInstance=void 0))},2e3)};e.addEventListener("click",c),e.addEventListener("mouseover",m),e.addEventListener("mouseleave",p),n(()=>{e.removeEventListener("click",c),e.removeEventListener("hover",m),e.removeEventListener("leave",p)})}},Ve={checkFirst:()=>window.QRCode!==void 0,local:{js:["/platform/module/sokeio/easyqrcodejs/dist/easy.qrcode.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n,options:s})=>{if(e.$sokeio_qrcode)return;let l={titleFont:"normal normal bold 18px Arial",titleColor:"#004284",titleBackgroundColor:"#ccc",titleHeight:40,titleTop:25,...s};(l.text==null||l.text=="")&&e.getAttribute("wire:qrcode")!=""&&(l.text=i.$wire[e.getAttribute("wire:qrcode")]),e.hasAttribute("wire:qrcode.text")&&(l.text=e.getAttribute("wire:qrcode.text")),e.hasAttribute("wire:qrcode.title")&&(l.title=e.getAttribute("wire:qrcode.title")),e.$sokeio_qrcode=new window.QRCode(e,l)}},ze={checkFirst:()=>window.Sortable!==void 0,local:{js:["/platform/module/sokeio/sortable/sortable.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n,options:s})=>{e.$sokeio_sortable||(e.$sokeio_sortable=window.Sortable.create(e,{animation:150,...s,draggable:"[wire\\:sortable\\.item]",handle:e.querySelector("[wire\\:sortable\\.handle]")?"[wire\\:sortable\\.handle]":null,sort:!0,dataIdAttr:"data-sortable-id",group:{animation:150,...(s==null?void 0:s.group)??{},name:e.getAttribute("wire:sortable"),pull:!1,put:!1},store:{...(s==null?void 0:s.store)??{},set:function(l){var o;try{let r=l.toArray().map((a,c)=>({order:c+1,value:a}));t.expression?i.$wire.call(t.expression,r):(o=Alpine.$data(e).onSortable)==null||o.call(e,r)}catch(r){console.error(r)}}}}))}},We={checkFirst:()=>window.Sortable!==void 0,local:{js:["/platform/module/sokeio/sortable/sortable.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n,options:s})=>{t.modifiers.includes("item-group")&&(e.$sokeio_sortable_group=window.Sortable.create(e,{animation:150,...s,draggable:"[wire\\:sortable-group\\.item]",handle:e.querySelector("[wire\\:sortable-group\\.handle]")?"[wire\\:sortable-group\\.handle]":null,sort:!0,dataIdAttr:"wire:sortable-group.item",group:{...(s==null?void 0:s.group)??{},name:e.closest("[wire\\:sortable-group]").getAttribute("wire:sortable-group"),pull:!0,put:!0},onSort:()=>{let l=e.closest("[wire\\:sortable-group]");if(!l)return;let o=Array.from(l.querySelectorAll("[wire\\:sortable-group\\.item-group]")).map((r,a)=>({order:a+1,value:r.getAttribute("wire:sortable-group.item-group"),items:r.$sokeio_sortable_group.toArray().map((c,d)=>({order:d+1,value:c}))}));i.$wire.call(l.getAttribute("wire:sortable-group"),o)}}))}},Je={checkFirst:()=>window.tinymce!==void 0,local:{js:["/platform/module/sokeio/tinymce/tinymce.min.js"],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n,options:s})=>{if(e.$sokeio_tinymce)return;e.hasAttribute("wire:tinymce")&&(s=new Function(`return ${e.getAttribute("wire:tinymce")};`)()),n(()=>{e.$sokeio_tinymce&&e.$sokeio_tinymce.remove&&(e.$sokeio_tinymce.remove(),e.$sokeio_tinymce=null)});let l=e.getAttribute("wire:tinymce-model")??e.getAttribute("wire:model"),o={};e.hasAttribute("wire:tinymce-skip")&&(o={}),e.$sokeio_tinymce=window.tinymce.init({...o??{},...s,promotion:!1,target:e,setup:function(r){r.on("init",function(){r.setContent(e.value),r.undoManager.dispatchChange()}),r.on("input",function(a){u.dataSet(i.$wire,l,r.getContent())}),r.on("ExecCommand",a=>{["mceFocus"].includes(a.command)||u.dataSet(i.$wire,l,r.getContent())})},file_picker_callback:function(r,a,c){window.showFileManager(function(d){r(d[0].url)},{type:"image",value:a})}})}},Xe={checkFirst:()=>window.TomSelect!==void 0,local:{js:["/platform/module/sokeio/tom-select/tom-select.min.js"],css:["/platform/module/sokeio/tom-select/tom-select.css"]},cdn:{js:["https://cdn.jsdelivr.net/npm/tom-select/dist/js/tom-select.complete.min.js"],css:["https://cdn.jsdelivr.net/npm/tom-select/dist/css/tom-select.css"]},init:({el:e,directive:t,component:i,cleanup:n,options:s})=>{if(e.$sokeio_tomselect)return;let l=e.getAttribute("wire:tom-select.remote-action"),o=e.getAttribute("wire:tom-select.base64"),r=e.getAttribute("wire:tom-select.options");r&&(r=JSON.parse(r)??{}),o?(o=JSON.parse(window.atob(o))??{},o={...o,...s}):o={...s},l&&(o={...o,load:function(a,c){i.$wire.callActionUI(l,a).then(function(d){c(d)})}}),r&&(o={...o,options:r}),e.$sokeio_tomselect=new TomSelect(e,o)}},Qe={checkFirst:()=>window.Plyr!==void 0,local:{js:["/platform/module/sokeio/plyr/plyr.min.js"],css:["/platform/module/sokeio/plyr/plyr.css"]},cdn:{js:["https://cdn.jsdelivr.net/npm/plyr@latest/dist/plyr.min.js"],css:["https://cdn.jsdelivr.net/npm/plyr@latest/dist/plyr.css"]},init:({el:e,directive:t,component:i,cleanup:n,options:s})=>{e.$sokeio_plyr=new window.Plyr(e,s)}},Ye={checkFirst:()=>!0,local:{js:[],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n})=>{window.sokeioUI.run(H,{selector:e})}},Ze={checkFirst:()=>!0,local:{js:[],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n,options:s})=>{let l=e.getAttribute("wire:media-file"),o=e.getAttribute("multiple"),r=e.getAttribute("wire:media-field"),a=()=>{window.showFileManager(function(c){let d=c;r&&(Array.isArray(d)?d=d.map(f=>f[r]):d=d[r]),u.dataSet(i.$wire,l,d)},"image",o=="true")};e.addEventListener("click",a),n(()=>{e.removeEventListener("click",a)})}},et={checkFirst:()=>!0,local:{js:[],css:[]},cdn:{js:[],css:[]},init:({el:e,directive:t,component:i,cleanup:n})=>{if(e.$sokeio_template)return;let s=e.innerHTML;s=s.replace("export default"," return");let l=document.createElement("div");l.setAttribute("data-sokeio-template",new Date().getTime()),e.parentNode.insertBefore(l,e);let r=new Function(s)();e.$sokeio_template=window.sokeioUI.run(r,{selector:l}),l.parentNode.insertBefore(e.$sokeio_template.$el,l),l.remove(),e.setAttribute("data-sokeio-template-id",e.$sokeio_template.getId()),e.style.display="none",console.log("sokeio",e.$sokeio_template)}},k={apexcharts:Ne,"get-value":Ue,qrcode:Ve,carousel:Pe,clipboard:De,countup:He,flatpickr:Be,masonry:Ke,sortable:ze,"sortable-group":We,tinymce:Je,modal:Ge,"tom-select":Xe,plyr:Qe,media:Ye,"media-file":Ze,sokeio:et};let B=(e,t,i)=>{if(!e.checkFirst||e.checkFirst()){e.init(t);return}i>50||setTimeout(()=>{B(e,t,i+1)},50)};function tt(e){Object.keys(k).forEach(function(t){let i=k[t];e.directive(t,n=>{var l,o,r,a,c,d,f,m,p,F,E,j;if(n.length===0||n.directive.modifiers.length>0||n.el[`$$sokeio_${t.replace(/\./g,"_").replace(/\//g,"_").replace(/-/g,"_")}`])return;let s={};(s=n.el.getAttribute(`wire:${t}.options`))&&(s=new Function(`return ${s};`)()),i.checkFirst&&!i.checkFirst()&&((l=i==null?void 0:i.cdn)!=null&&l.js&&Array.isArray((o=i==null?void 0:i.cdn)==null?void 0:o.js)&&((r=i==null?void 0:i.cdn)==null?void 0:r.js.length)>0?u.addScriptToWindow((a=i==null?void 0:i.cdn)==null?void 0:a.js):(c=i==null?void 0:i.local)!=null&&c.js&&u.addScriptToWindow((d=i==null?void 0:i.local)==null?void 0:d.js),(f=i==null?void 0:i.cdn)!=null&&f.css&&Array.isArray((m=i==null?void 0:i.cdn)==null?void 0:m.css)&&((p=i==null?void 0:i.cdn)==null?void 0:p.css.length)>0?u.addStyleToWindow((F=i==null?void 0:i.cdn)==null?void 0:F.css):(E=i==null?void 0:i.local)!=null&&E.css&&u.addStyleToWindow((j=i==null?void 0:i.local)==null?void 0:j.css)),B(i,{...n,options:s},0)})})}const it={directive:k,install:tt};function st(e){setTimeout(()=>{var t,i,n,s;(s=(n=(i=(t=document.querySelector(`[wire\\:id="${e.wireId}"]`))==null?void 0:t.closest("[data-sokeio-id]"))==null?void 0:i._sokeio)==null?void 0:n.delete)==null||s.call(n)})}function ot(e){window.sokeioMessage(e)}function rt(e){setTimeout(()=>{var t;(t=window.Livewire.find(e.wireTargetId))==null||t.soLoadData()})}function nt(e){setTimeout(()=>{var t,i;(i=(t=window.Livewire.find(e.wireTargetId))==null?void 0:t.$parent)==null||i.soLoadData()})}const y={sokeio_message:ot,sokeio_close:st,sokeio_refresh:rt,sokeio_refresh_parent:nt};function lt(e){e.type&&y[e.type]&&y[e.type](e.payload)}const at={dispatch:y,install:lt};document.addEventListener("livewire:init",()=>{it.install(window.Livewire)});document.addEventListener("sokeio::dispatch",e=>{let t=e.detail[0];at.install({type:t.type,payload:{...t.payload,wireId:q(e.target)}})});document.addEventListener("alpine:init",()=>{Alpine.data("sokeioField",e=>({get FieldValue(){return u.dataGet(this.$wire,e)},set FieldValue(t){u.dataSet(this.$wire,e,t)}}))});document.addEventListener("alpine:init",()=>{Alpine.data("sokeioTable",()=>({searchExtra:!1,fieldSort:"",typeSort:"",statusCheckAll:!1,get dataSelecteds(){return this.$wire.dataSelecteds??[]},sortField(e){let t=e.getAttribute("data-field");t!=this.fieldSort?(this.fieldSort=t,this.typeSort="asc"):(this.typeSort=this.typeSort==="asc"?"desc":"asc",this.typeSort==="asc"&&(this.fieldSort="",this.typeSort=""));let i=this.$el.getAttribute("data-sokeio-table-order-by");this.$wire.callActionUI(i,{field:this.fieldSort,type:this.typeSort})},tableInit(){this.$watch("$wire.dataSelecteds",()=>{let e=[...this.$el.querySelectorAll(".sokeio-checkbox-one")].map(t=>t.value);this.statusCheckAll=e.length===e.filter(t=>this.$wire.dataSelecteds.includes(t)).length}),Livewire.hook("request",({component:e,commit:t,respond:i,succeed:n,fail:s})=>{n(({snapshot:l,effect:o})=>{setTimeout(()=>{let r=[...this.$el.querySelectorAll(".sokeio-checkbox-one")].map(a=>a.value);this.statusCheckAll=r.length===r.filter(a=>this.$wire.dataSelecteds.includes(a)).length},0)})})},checkboxAll(e){let t=e.target.checked,i=[...this.$el.closest("table").querySelectorAll(".sokeio-checkbox-one")].map(n=>n.value);this.$wire.dataSelecteds===void 0&&(this.$wire.dataSelecteds=[]),t?this.$wire.dataSelecteds=this.$wire.dataSelecteds.concat(i):this.$wire.dataSelecteds=this.$wire.dataSelecteds.filter(n=>!i.includes(n))}}))});document.addEventListener("alpine:init",()=>{Alpine.data("sokeioGlobal",()=>({isAuth:void 0,init(){window.sokeioGlobal=this,this.$watch("$wire.isAuth",e=>{this.sendAuth()}),setTimeout(()=>{this.sendAuth()},100)},sendAuth(){this.$wire.isAuth!=this.isAuth&&(this.isAuth=this.$wire.isAuth,document.dispatchEvent(new CustomEvent("sokeio::auth",{detail:{isAuth:this.$wire.isAuth,authUser:this.$wire.authUser}})))}}))});window.sokeioGlobal=null;document.addEventListener("alpine:init",()=>{Alpine.data("sokeioBody",()=>({isAuth:!1,authUser:null,themeDark:!1,init(){this.$watch("themeDark",e=>{this.$el.setAttribute("data-bs-theme",e?"dark":"light")}),document.removeEventListener("sokeio::auth",this.sendAuth.bind(this)),document.addEventListener("sokeio::auth",this.sendAuth.bind(this))},sendAuth({detail:{isAuth:e,authUser:t}}){this.isAuth=e,this.authUser=t},toggleTheme(){this.themeDark=!this.themeDark}}))});window.sokeioGlobal=null;
